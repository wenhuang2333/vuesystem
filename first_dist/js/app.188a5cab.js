(function(){"use strict";var t={3511:function(t,e,a){var n=a(3751),o=a(641);function i(t,e,a,n,i,l){const r=(0,o.g2)("home");return(0,o.uX)(),(0,o.Wv)(r)}var l=a(33);function r(t,e,a,n,i,r){const s=(0,o.g2)("maintop"),d=(0,o.g2)("mainmiddle"),c=(0,o.g2)("mainmenu");return(0,o.uX)(),(0,o.CE)("nav",{style:(0,l.Tr)(n.navstyle),class:"animated-bg"},[n.informationin?((0,o.uX)(),(0,o.CE)("div",{key:0,id:"information",class:(0,l.C4)(["information",{"animate__fadeInDown animate__animated":n.informationin,"animate__fadeOutDown animate__animated":n.informationout}])},(0,l.v_)(n.new_information),3)):(0,o.Q3)("",!0),(0,o.bF)(s),(0,o.bF)(d,{pagenum:n.pagenum,alldata:n.alldata,actionhistory:n.actionhistory},null,8,["pagenum","alldata","actionhistory"]),n.isChange?((0,o.uX)(),(0,o.Wv)(c,{key:1,onClose:n.closepage,onTurntopage:n.goforpage},null,8,["onClose","onTurntopage"])):(0,o.Q3)("",!0),(0,o.Lk)("div",{id:"bottom",class:(0,l.C4)({"bottom-active":n.isActive,"bottom-hover":n.isHover}),onClick:e[0]||(e[0]=(...t)=>n.changebottomstyle&&n.changebottomstyle(...t)),onMouseenter:e[1]||(e[1]=t=>n.isHover=!0),onMouseleave:e[2]||(e[2]=t=>n.isHover=!1)}," 点击切换功能页 ",34)],4)}a(4114);var s=a(953);const d={id:"top",class:"animate__animated animate__flipInX animate__delay-0.5s"},c={id:"topright"},u={id:"toprightmain"},m=["src"];function v(t,e,a,i,r,s){return(0,o.uX)(),(0,o.Wv)(n.eB,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",d,[e[3]||(e[3]=(0,o.Lk)("img",{src:"/src/62.png",id:"toppic"},null,-1)),(0,o.Lk)("div",c,[(0,o.Lk)("div",u,[(0,o.Lk)("div",{id:"toprightinformation",onClick:e[0]||(e[0]=(...t)=>i.changeinformation&&i.changeinformation(...t))},[(0,o.Lk)("img",{src:i.information.firstsrc},null,8,m),(0,o.Lk)("p",null,(0,l.v_)(i.information.first),1)]),e[1]||(e[1]=(0,o.Lk)("div",{id:"toprightuser"},[(0,o.Lk)("img",{src:"/src/12.png",alt:""}),(0,o.Lk)("a",{href:"#"},"用户")],-1)),e[2]||(e[2]=(0,o.Lk)("div",{id:"toprightsearch"},[(0,o.Lk)("input",{type:"text",class:"search-txt",placeholder:"搜索"}),(0,o.Lk)("button",{class:"search-btn",style:{backgroundImage:"url(/src/3.png)"}})],-1))])])])]),_:1})}var h=a(7380);const p=(0,h.A)();var g={setup(){let t=(0,s.Kh)({first:"消息",firstsrc:"/src/13.png",firstcount:0});function e(){t.firstcount%2==0?(t.first="不通知",t.firstsrc="/src/15.png",p.emit("setinformation",!1)):(t.first="消息",t.firstsrc="/src/13.png",p.emit("setinformation",!0),p.emit("information","设置消息通知成功！")),t.firstcount+=1}return{information:t,changeinformation:e}}},f=a(6262);const y=(0,f.A)(g,[["render",v],["__scopeId","data-v-014c7a96"]]);var k=y;const _={id:"main",class:"animate__zoomIn animate animate_animated"};function b(t,e,a,i,l,r){const s=(0,o.g2)("firstall"),d=(0,o.g2)("secondmain"),c=(0,o.g2)("thirdmain"),u=(0,o.g2)("forthmain"),m=(0,o.g2)("fifthmain");return(0,o.uX)(),(0,o.Wv)(n.eB,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",_,[i.page[0]?((0,o.uX)(),(0,o.Wv)(s,{key:0,alldata:i.props.alldata,actionhistory:i.props.actionhistory},null,8,["alldata","actionhistory"])):(0,o.Q3)("",!0),i.page[1]?((0,o.uX)(),(0,o.Wv)(d,{key:1,alldata:i.props.alldata},null,8,["alldata"])):(0,o.Q3)("",!0),(0,o.bo)((0,o.bF)(c,{alldata:i.props.alldata},null,8,["alldata"]),[[n.aG,i.page[2]]]),(0,o.bo)((0,o.bF)(u,{alldata:i.props.alldata},null,8,["alldata"]),[[n.aG,i.page[3]]]),(0,o.bo)((0,o.bF)(m,{alldata:i.props.alldata},null,8,["alldata"]),[[n.aG,i.page[4]]])])]),_:1})}const C={id:"first"},L={id:"mainleft"},w={id:"mainright"};function K(t,e,a,n,i,l){const r=(0,o.g2)("firstlefttop"),s=(0,o.g2)("firstleftmain"),d=(0,o.g2)("firstrighttop"),c=(0,o.g2)("firstrightfirst"),u=(0,o.g2)("firstrightsecond"),m=(0,o.g2)("firstrightthird");return(0,o.uX)(),(0,o.CE)("div",C,[(0,o.Lk)("div",L,[(0,o.bF)(r),(0,o.bF)(s,{actionhistory:n.props.actionhistory},null,8,["actionhistory"])]),(0,o.Lk)("div",w,[(0,o.bF)(d,{onFirstchangechoice:n.changefirstpage},null,8,["onFirstchangechoice"]),n.firstpage[0]?((0,o.uX)(),(0,o.Wv)(c,{key:0,alldata:n.props.alldata},null,8,["alldata"])):(0,o.Q3)("",!0),n.firstpage[1]?((0,o.uX)(),(0,o.Wv)(u,{key:1,alldata:n.props.alldata},null,8,["alldata"])):(0,o.Q3)("",!0),n.firstpage[2]?((0,o.uX)(),(0,o.Wv)(m,{key:2,alldata:n.props.alldata},null,8,["alldata"])):(0,o.Q3)("",!0)])])}a(8111),a(7588);const I={class:"date-year"},R={class:"date-month-day"},E={class:"date-time"};function A(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",{class:(0,l.C4)(["date-container",{"date-animation":n.allmove}]),onMouseenter:e[0]||(e[0]=(...t)=>n.endmove&&n.endmove(...t)),onMouseleave:e[1]||(e[1]=(...t)=>n.startmove&&n.startmove(...t))},[(0,o.Lk)("div",I,(0,l.v_)(n.currentDate.year),1),(0,o.Lk)("div",R,(0,l.v_)(n.currentDate.month)+(0,l.v_)(n.currentDate.day),1),(0,o.Lk)("div",E,(0,l.v_)(n.currentDate.hours)+":"+(0,l.v_)(n.currentDate.minutes)+":"+(0,l.v_)(n.currentDate.seconds),1)],34)}var x={setup(){const t=(0,s.KR)(!0),e=(0,s.KR)({year:"",month:"",day:"",hours:"",minutes:"",seconds:""}),a=()=>{const t=new Date;e.value={year:t.getFullYear(),month:t.toLocaleString("default",{month:"long"}),day:t.toLocaleString("zh-CN",{day:"numeric"}),hours:String(t.getHours()).padStart(2,"0"),minutes:String(t.getMinutes()).padStart(2,"0"),seconds:String(t.getSeconds()).padStart(2,"0")}};(0,o.sV)(()=>{a();const t=setInterval(a,1e3);(0,o.hi)(()=>{clearInterval(t)}),n()});const n=()=>{t.value=!0,clearInterval(l.value),l.value=setInterval(()=>{t.value=!1,setTimeout(()=>{t.value=!0},1e4)},1e4)},i=()=>{t.value=!1,clearInterval(l.value)},l=(0,s.KR)(null);return{currentDate:e,allmove:t,startmove:n,endmove:i}}};const D=(0,f.A)(x,[["render",A],["__scopeId","data-v-5bb45f0e"]]);var X=D;const F={id:"leftmain"},T={key:0,id:"protection",class:"animate__slideInUp animate__animated"},$=["innerHTML"];function M(t,e,a,n,i,l){return(0,o.uX)(),(0,o.CE)("div",F,[e[0]||(e[0]=(0,o.Lk)("p",{id:"leftmaintitle"},[(0,o.Lk)("img",{src:"/src/52.png",id:"leftmaintitleimg",alt:""}),(0,o.eW)(" 近期行动 ")],-1)),(0,o.Lk)("ul",null,[0===n.props.actionhistory.length?((0,o.uX)(),(0,o.CE)("div",T," 当前尚未有任何行动！ ")):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.props.actionhistory,(t,e)=>((0,o.uX)(),(0,o.CE)("li",{title:"",key:e,class:"animate__fadeInUp animate__animated",innerHTML:t},null,8,$))),128))])])}var S={props:["actionhistory"],setup(t){return console.log("过往历史在此",t.actionhistory),{props:t}}};const W=(0,f.A)(S,[["render",M],["__scopeId","data-v-39eb5808"]]);var Q=W;const O={id:"firstrighttop"};function Y(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",{class:(0,l.C4)(["topchoose",{isactive:n.choice[0]}]),onClick:e[0]||(e[0]=t=>n.changechoice(0))}," 历史总绪 ",2),(0,o.Lk)("div",{class:(0,l.C4)(["topchoose",{isactive:n.choice[1]}]),onClick:e[1]||(e[1]=t=>n.changechoice(1))}," 近期总绪 ",2),(0,o.Lk)("div",{class:(0,l.C4)(["topchoose",{isactive:n.choice[2]}]),onClick:e[2]||(e[2]=t=>n.changechoice(2))}," 今日回顾 ",2)])}var j={setup(t,{emit:e}){var a=(0,s.Kh)([!0,!1,!1]);function n(t){a.forEach((t,e)=>{a[e]=!1}),a[t]=!0,e("firstchangechoice",t)}return{changechoice:n,choice:a}}};const U=(0,f.A)(j,[["render",Y],["__scopeId","data-v-89100c78"]]);var B=U;const P={id:"firstall"},V={key:0,id:"protect"},H={id:"firsttop"},J={id:"firstchartfirst"},N={ref:"chartCanvas"},z={id:"firstchartsecond"},q={id:"firstpiechart"},Z={ref:"chartPie"},G={id:"firsthistorychart"},tt={ref:"chartHistory"};function et(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",P,[n.animatefalse?((0,o.uX)(),(0,o.CE)("div",V," 正在加载中... ")):(0,o.Q3)("",!0),(0,o.Lk)("div",H,[(0,o.Lk)("div",J,[(0,o.Lk)("canvas",N,null,512)]),(0,o.Lk)("ul",null,[(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInLeft animate__animated animate__bounce animate__delay-0.2s":n.animatefalse})},[e[0]||(e[0]=(0,o.Lk)("img",{src:"/src/3.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"累计使用了"+(0,l.v_)(n.historysum[0])+"次情绪识别",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInRight animate__animated animate__bounce animate__delay-0.4s":n.animatefalse})},[e[1]||(e[1]=(0,o.Lk)("img",{src:"/src/4.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"累计使用了"+(0,l.v_)(n.historysum[1])+"次情绪调频",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInUp animate__animated animate__bounce animate__delay-0.6s":n.animatefalse})},[e[2]||(e[2]=(0,o.Lk)("img",{src:"/src/5.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"累计使用了"+(0,l.v_)(n.historysum[2])+"次音乐疗愈",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInDown animate__animated animate__bounce animate__delay-0.8s":n.animatefalse})},[e[3]||(e[3]=(0,o.Lk)("img",{src:"/src/6.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"累计记录了"+(0,l.v_)(n.historysum[3])+"次情绪日志",1)],2)])]),(0,o.Lk)("div",z,[(0,o.Lk)("div",q,[(0,o.Lk)("canvas",Z,null,512)]),(0,o.Lk)("div",G,[(0,o.Lk)("canvas",tt,null,512)])])])}var at=a(4736),nt={props:["alldata"],setup(t){const e=new Date;var a=(0,s.KR)(!0);setTimeout(()=>{a.value=!1},1050);const n=(0,s.KR)(null),i=(0,s.KR)(null),l=(0,s.KR)(null);let r=null,d=null,c=null;var u=(0,s.Kh)(new Array(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].indicator.length).fill(0)),m=(0,s.Kh)(new Array(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].mood.length).fill(0)),v=(0,s.Kh)(new Array(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].moodhistory.length).fill(0)),h=(0,s.Kh)(new Array(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].history.length).fill(0));function p(){var e=0;for(var a in t.alldata)for(var n in t.alldata[a])for(var o in t.alldata[a][n]){const i=t.alldata[a][n][o].indicator;i.forEach((t,e)=>{u[e]+=t}),e++}u.forEach((t,a)=>{u[a]/=e})}function g(){var e=0;for(var a in t.alldata)for(var n in t.alldata[a])for(var o in t.alldata[a][n]){const i=t.alldata[a][n][o].mood;i.forEach((t,e)=>{m[e]+=t}),e++}m.forEach((t,a)=>{m[a]/=e})}function f(){for(var e in t.alldata)for(var a in t.alldata[e])for(var n in t.alldata[e][a]){const o=t.alldata[e][a][n].moodhistory;o.forEach((t,e)=>{v[e]+=t})}}function y(){for(var e in t.alldata)for(var a in t.alldata[e])for(var n in t.alldata[e][a]){const o=t.alldata[e][a][n].history;o.forEach((t,e)=>{h[e]+=t})}}return g(),p(),f(),y(),(0,o.sV)(async()=>{if(await(0,o.dY)(),n.value){const t=n.value.getContext("2d");r=new at.Ay(t,{type:"bar",data:{labels:["情绪正面程度","情绪负面程度","历史结果可信度","情绪稳定程度"],datasets:[{label:"评估值",data:u,backgroundColor:["#4CAF50","#2196F3","#FF9800","#9C27B0"],borderRadius:6,barThickness:24}]},options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!1},title:{display:!0,text:"个人情绪指标图",font:{size:18}},tooltip:{callbacks:{label:t=>`${t.label}: ${t.raw} 分`}}},scales:{x:{min:0,title:{display:!0,text:"得分数值"},ticks:{callback:t=>t}}}}})}if(i.value){const t=i.value.getContext("2d"),e={"喜悦":"那是时间留给生命的翩翩起舞。","平静":"平常一般的平淡如水或许才是生活的真相。","悲伤":"你哭了，我知道。","愤怒":"很久很久以前，我也有如此的模样……","复杂":"很少有纯粹的人，正如没有纯粹的情绪一样","厌恶":"答应我，诀别的时候，不要这样……","惊讶":"不期而遇的，是我们久别重逢的一见如故","恐惧":"就像生如朝露，就像天暖人暮"};d=new at.Ay(t,{type:"pie",data:{labels:["喜悦","悲伤","愤怒","惊讶","厌恶","恐惧","复杂"],datasets:[{label:"本周情绪构成",data:m,backgroundColor:["#228B22","#191970","#DC143C","#9932CC","#A0522D","#DCDCDC","#B0C4DE"],borderWidth:1}]},options:{responsive:!0,plugins:{tooltip:{callbacks:{label:t=>{const a=t.label,n=t.raw,o=e[a]||"";return`${a}: ${n}%\n${o}`}}},legend:{position:"bottom"},title:{display:!0,text:"历史情绪组成（百分比）",font:{size:18}}}}})}if(l.value){const t=l.value.getContext("2d");c=new at.Ay(t,{type:"bar",data:{labels:["喜悦","悲伤","愤怒","惊讶","厌恶","恐惧","复杂"],datasets:[{label:"识别次数",data:v,backgroundColor:["#228B22","#191970","#DC143C","#9932CC","#A0522D","#DCDCDC","#B0C4DE"],borderColor:["black","black","black","black","black","black","black"],borderWidth:1}]},options:{responsive:!0,scales:{y:{beginAtZero:!0,title:{display:!0,text:"次数"}},x:{title:{display:!0,text:"情绪种类"}}},plugins:{title:{display:!0,text:"历史情绪识别记录"},legend:{display:!1}}}})}}),{chartCanvas:n,chartPie:i,chartHistory:l,animatefalse:a,historysum:h}}};const ot=(0,f.A)(nt,[["render",et],["__scopeId","data-v-13bf3324"]]);var it=ot;const lt={id:"firstall"},rt={key:0,id:"protect"},st={id:"firsttop"},dt={id:"firstchartfirst"},ct={ref:"chartCanvas"},ut={id:"firstchartsecond"},mt={id:"firstpiechart"},vt={ref:"chartPie"},ht={id:"firsttimechart"},pt={ref:"chartline"};function gt(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",lt,[n.animatefalse?((0,o.uX)(),(0,o.CE)("div",rt," 正在加载中... ")):(0,o.Q3)("",!0),(0,o.Lk)("div",st,[(0,o.Lk)("div",dt,[(0,o.Lk)("canvas",ct,null,512)]),(0,o.Lk)("ul",null,[(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInLeft animate__animated animate__bounce animate__delay-0.2s":n.animatefalse})},[e[0]||(e[0]=(0,o.Lk)("img",{src:"/src/3.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"近期使用了"+(0,l.v_)(n.historysum[0])+"次情绪识别",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInRight animate__animated animate__bounce animate__delay-0.4s":n.animatefalse})},[e[1]||(e[1]=(0,o.Lk)("img",{src:"/src/4.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"近期使用了"+(0,l.v_)(n.historysum[1])+"次情绪调频",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInUp animate__animated animate__bounce animate__delay-0.6s":n.animatefalse})},[e[2]||(e[2]=(0,o.Lk)("img",{src:"/src/5.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"近期使用了"+(0,l.v_)(n.historysum[2])+"次音乐疗愈",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInDown animate__animated animate__bounce animate__delay-0.8s":n.animatefalse})},[e[3]||(e[3]=(0,o.Lk)("img",{src:"/src/6.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"近期记录了"+(0,l.v_)(n.historysum[3])+"次情绪日志",1)],2)])]),(0,o.Lk)("div",ut,[(0,o.Lk)("div",mt,[(0,o.Lk)("canvas",vt,null,512)]),(0,o.Lk)("div",ht,[(0,o.Lk)("canvas",pt,null,512)])])])}var ft={props:["alldata"],setup(t){var e=(0,s.KR)(!0);setTimeout(()=>{e.value=!1},1050);const a=(0,s.KR)(null),n=(0,s.KR)(null),i=(0,s.KR)(null);let l=null,r=null,d=null;const c=new Date,u=new Date(c.getFullYear(),c.getMonth(),c.getDate());var m=(0,s.Kh)(new Array(t.alldata[u.getFullYear()][u.getMonth()][u.getDate()].indicator.length).fill(0)),v=(0,s.Kh)(new Array(t.alldata[u.getFullYear()][u.getMonth()][u.getDate()].mood.length).fill(0)),h=(0,s.Kh)(new Array(t.alldata[u.getFullYear()][u.getMonth()][u.getDate()].history.length).fill(0)),p=(0,s.Kh)({happy:[],sad:[],anger:[],surprise:[],hate:[],fear:[],complex:[]});function g(){const t=[];for(let e=0;e<7;e++){const a=new Date(c-24*e*60*60*1e3);t.push(a)}return t}const f=g();function y(){var e=0;f.forEach(a=>{const n=a.getFullYear(),o=a.getMonth(),i=a.getDate();if(t.alldata[n]&&t.alldata[n][o]&&t.alldata[n][o][i]){const a=t.alldata[n][o][i].indicator;a.forEach((t,e)=>{m[e]+=t}),e++}}),m.forEach((t,a)=>{m[a]/=e})}function k(){var e=0;f.forEach(a=>{const n=a.getFullYear(),o=a.getMonth(),i=a.getDate();if(t.alldata[n]&&t.alldata[n][o]&&t.alldata[n][o][i]){const a=t.alldata[n][o][i].mood;a.forEach((t,e)=>{v[e]+=t}),e++}}),v.forEach((t,a)=>{v[a]/=e})}function _(){f.forEach(e=>{const a=e.getFullYear(),n=e.getMonth(),o=e.getDate();if(t.alldata[a]&&t.alldata[a][n]&&t.alldata[a][n][o]){const e=t.alldata[a][n][o].history;e.forEach((t,e)=>{h[e]+=t})}})}function b(){f.forEach(e=>{const a=e.getFullYear(),n=e.getMonth(),o=e.getDate();if(t.alldata[a]&&t.alldata[a][n]&&t.alldata[a][n][o]){const e=t.alldata[a][n][o].mood;p["happy"].push(e[0]),p["sad"].push(e[1]),p["anger"].push(e[2]),p["surprise"].push(e[3]),p["hate"].push(e[4]),p["fear"].push(e[5]),p["complex"].push(e[6])}})}return k(),y(),_(),b(),(0,o.sV)(async()=>{if(await(0,o.dY)(),a.value){const t=a.value.getContext("2d");l=new at.Ay(t,{type:"bar",data:{labels:["情绪正面程度","情绪负面程度","近期结果可信度","情绪稳定程度"],datasets:[{label:"评估值",data:m,backgroundColor:["#4CAF50","#2196F3","#FF9800","#9C27B0"],borderRadius:6,barThickness:24}]},options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!1},title:{display:!0,text:"个人情绪指标图",font:{size:18}},tooltip:{callbacks:{label:t=>`${t.label}: ${t.raw} 分`}}},scales:{x:{min:0,title:{display:!0,text:"得分数值"},ticks:{callback:t=>t}}}}})}if(n.value){const t=n.value.getContext("2d"),e={"喜悦":"那是时间留给生命的翩翩起舞。","平静":"平常一般的平淡如水或许才是生活的真相。","悲伤":"你哭了，我知道。","愤怒":"很久很久以前，我也有如此的模样……","复杂":"很少有纯粹的人，正如没有纯粹的情绪一样","厌恶":"答应我，诀别的时候，不要这样……","惊讶":"不期而遇的，是我们久别重逢的一见如故","恐惧":"就像生如朝露，就像天暖人暮"};r=new at.Ay(t,{type:"pie",data:{labels:["喜悦","悲伤","愤怒","惊讶","厌恶","恐惧","复杂"],datasets:[{label:"本周情绪构成",data:v,backgroundColor:["#228B22","#191970","#DC143C","#9932CC","#A0522D","#DCDCDC","#B0C4DE"],borderWidth:1}]},options:{responsive:!0,plugins:{tooltip:{callbacks:{label:t=>{const a=t.label,n=t.raw,o=e[a]||"";return`${a}: ${n}%\n${o}`}}},legend:{position:"bottom"},title:{display:!0,text:"近期情绪组成（百分比）",font:{size:18}}}}})}if(i.value){let t=i.value.getContext("2d");d=new at.Ay(t,{type:"line",data:{labels:["今天","昨天","三天前","四天前","五天前","六天前","七天前"],datasets:[{label:"喜悦",data:p["happy"],borderColor:"#228B22",backgroundColor:"transparent",tension:.4},{label:"悲伤",data:p["sad"],borderColor:"#191970",backgroundColor:"transparent",tension:.4},{label:"愤怒",data:p["anger"],borderColor:"#DC143C",backgroundColor:"transparent",tension:.4},{label:"惊讶",data:p["surprise"],borderColor:"#9932CC",backgroundColor:"transparent",tension:.4},{label:"厌恶",data:p["hate"],borderColor:"#A0522D",backgroundColor:"transparent",tension:.4},{label:"恐惧",data:p["fear"],borderColor:"#DCDCDC",backgroundColor:"transparent",tension:.4},{label:"复杂",data:p["complex"],borderColor:"#B0C4DE",backgroundColor:"transparent",tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{title:t=>t[0].label}},title:{display:!0,text:"近期情绪波动",font:{size:18}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:20}},x:{grid:{display:!1}}}}})}}),{chartCanvas:a,chartPie:n,animatefalse:e,chartline:i,historysum:h}}};const yt=(0,f.A)(ft,[["render",gt],["__scopeId","data-v-3b60797c"]]);var kt=yt;const _t={id:"firstall"},bt={key:0,id:"protect"},Ct={id:"firsttop"},Lt={id:"firstchartfirst"},wt={ref:"chartCanvas"},Kt={id:"firstchartsecond"},It={id:"firstpiechart"},Rt={ref:"chartPie"},Et={id:"todolist"};function At(t,e,a,n,i,r){const s=(0,o.g2)("todolist");return(0,o.uX)(),(0,o.CE)("div",_t,[n.animatefalse?((0,o.uX)(),(0,o.CE)("div",bt," 正在加载中... ")):(0,o.Q3)("",!0),(0,o.Lk)("div",Ct,[(0,o.Lk)("div",Lt,[(0,o.Lk)("canvas",wt,null,512)]),(0,o.Lk)("ul",null,[(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInLeft animate__animated animate__bounce animate__delay-0.2s":n.animatefalse})},[e[0]||(e[0]=(0,o.Lk)("img",{src:"/src/3.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"今日使用了"+(0,l.v_)(n.selfhistory[0])+"次情绪识别",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInRight animate__animated animate__bounce animate__delay-0.4s":n.animatefalse})},[e[1]||(e[1]=(0,o.Lk)("img",{src:"/src/4.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"今日使用了"+(0,l.v_)(n.selfhistory[1])+"次情绪调频",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInUp animate__animated animate__bounce animate__delay-0.6s":n.animatefalse})},[e[2]||(e[2]=(0,o.Lk)("img",{src:"/src/5.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"今日使用了"+(0,l.v_)(n.selfhistory[2])+"次音乐疗愈",1)],2),(0,o.Lk)("li",{class:(0,l.C4)({"animate__fadeInDown animate__animated animate__bounce animate__delay-0.8s":n.animatefalse})},[e[3]||(e[3]=(0,o.Lk)("img",{src:"/src/6.png",alt:"",class:"firsttoppic"},null,-1)),(0,o.Lk)("p",null,"今日记录了"+(0,l.v_)(n.selfhistory[3])+"次情绪日志",1)],2)])]),(0,o.Lk)("div",Kt,[(0,o.Lk)("div",It,[(0,o.Lk)("canvas",Rt,null,512)]),(0,o.Lk)("div",Et,[(0,o.bF)(s)])])])}const xt={class:"todo-container"},Dt={class:"todo-wrap"};function Xt(t,e,a,n,i,l){const r=(0,o.g2)("top"),s=(0,o.g2)("list"),d=(0,o.g2)("myfoot");return(0,o.uX)(),(0,o.CE)("div",xt,[e[0]||(e[0]=(0,o.Lk)("h1",null,"今日待办事项",-1)),(0,o.Lk)("div",Dt,[(0,o.bF)(r,{receive:n.receive},null,8,["receive"]),(0,o.bF)(s,{todos:n.todos,checktodo:n.checktodo,removetodo:n.removetodo},null,8,["todos","checktodo","removetodo"])]),(0,o.bF)(d,{todos:n.todos,removetodo:n.removetodo,select:n.select},null,8,["todos","removetodo","select"])])}const Ft={class:"todo-header"};function Tt(t,e,a,i,l,r){return(0,o.uX)(),(0,o.CE)("div",Ft,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.inner=t),placeholder:"按下回车确认；明天会清除今天的所有事项",onKeyup:e[1]||(e[1]=(0,n.jR)((...t)=>i.add&&i.add(...t),["enter"]))},null,544),[[n.Jo,i.inner]])])}var $t=a(4329),Mt={name:"top",props:{receive:Function},setup(t){var e=(0,s.KR)("");function a(a){if(console.log(e.value),""!==e.value.trim()){console.log("接收请求发送");var n={id:(0,$t.Ak)(),title:a.target.value,done:!1,isedit:!1};t.receive(n),e.value=""}else eventBus.emit("information","请输入内容！")}return{inner:e,add:a}}};const St=(0,f.A)(Mt,[["render",Tt],["__scopeId","data-v-922a0382"]]);var Wt=St;const Qt={key:0,class:"todo-footer"},Ot=["checked"];function Yt(t,e,a,n,i,r){return a.todos.length?((0,o.uX)(),(0,o.CE)("div",Qt,[(0,o.Lk)("label",null,[(0,o.Lk)("input",{type:"checkbox",onChange:e[0]||(e[0]=(...t)=>n.selectall&&n.selectall(...t)),checked:n.isAll()},null,40,Ot),e[2]||(e[2]=(0,o.eW)("全选 ",-1))]),(0,o.Lk)("span",null,[(0,o.Lk)("span",null,"已完成"+(0,l.v_)(n.donetotal()),1),(0,o.eW)(" / 全部"+(0,l.v_)(a.todos.length),1)]),(0,o.Lk)("button",{class:"btn btn-danger",onClick:e[1]||(e[1]=(...t)=>n.removeall&&n.removeall(...t))},"清除已完成任务")])):(0,o.Q3)("",!0)}a(8237);var jt={name:"myfoot",props:{todos:{type:Array,required:!0},removetodo:{type:Function,required:!0},select:{type:Function,required:!0}},setup(t){const e=()=>{let e=0;return t.todos.forEach(t=>{t.done&&e++}),e},a=()=>t.todos.reduce((t,e)=>t+(e.done?1:0),0),n=()=>{if(confirm("确定清除已完成？"))for(var e=t.todos.length-1;e>=0;e--)1==t.todos[e].done&&t.removetodo(t.todos[e].id)},o=e=>{t.select(e.target.checked)},i=()=>{const e=a();return e===t.todos.length&&t.todos.length>0};return{count:e,donetotal:a,removeall:n,selectall:o,isAll:i}}};const Ut=(0,f.A)(jt,[["render",Yt],["__scopeId","data-v-f5ddd3c6"]]);var Bt=Ut;const Pt={class:"todo-main"};function Vt(t,e,a,n,i,l){const r=(0,o.g2)("item");return(0,o.uX)(),(0,o.CE)("ul",Pt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.todos,t=>((0,o.uX)(),(0,o.Wv)(r,{id:"list",key:t.id,todo:t,checktodo:a.checktodo,removetodo:a.removetodo},null,8,["todo","checktodo","removetodo"]))),128))])}const Ht=["checked"],Jt={key:0},Nt=["value"];var zt={__name:"item",props:{todo:{type:Object,required:!0},checktodo:{type:Function,required:!0},removetodo:{type:Function,required:!0}},setup(t){const e=t,a=(0,s.KR)(null),i=t=>{e.checktodo(t)},r=t=>{confirm("确认删除？")&&e.removetodo(t)},d=()=>{e.todo.isedit?p.emit("information","您已经在编辑状态了！"):(e.todo.isedit=!0,(0,o.dY)(()=>{a.value?.focus()}))},c=t=>{if(""!==t.target.value){var a=t.target.value;p.emit("edition",{id:e.todo.id,value:a}),e.todo.isedit=!1}else e.todo.isedit=!1};return(e,a)=>((0,o.uX)(),(0,o.Wv)(n.eB,{appear:"",name:"animate__animated animate__rubberBand","enter-active-class":"animate__backInLeft","leave-active-class":"animate__backOutLeft"},{default:(0,o.k6)(()=>[(0,o.Lk)("li",{onClick:a[4]||(a[4]=e=>i(t.todo.id)),title:"点击标记已完成",class:(0,l.C4)({done:t.todo.done})},[(0,o.Lk)("label",null,[(0,o.Lk)("input",{type:"checkbox",checked:t.todo.done,onChange:a[0]||(a[0]=e=>i(t.todo.id))},null,40,Ht),a[5]||(a[5]=(0,o.eW)("    ",-1)),t.todo.isedit?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("span",Jt,(0,l.v_)(t.todo.title),1)),t.todo.isedit?((0,o.uX)(),(0,o.CE)("input",{key:1,ref:"input",type:"text",onClick:a[1]||(a[1]=(0,n.D$)(()=>{},["stop"])),onKeyup:(0,n.jR)(c,["enter"]),value:t.todo.title,onBlur:c},null,40,Nt)):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{class:"btn btn-danger",onClick:a[2]||(a[2]=(0,n.D$)(e=>r(t.todo.id),["stop"]))},"删除"),(0,o.Lk)("button",{class:"btn btn-edit",onClick:a[3]||(a[3]=(0,n.D$)(e=>d(t.todo),["stop"]))},"编辑")],2)]),_:1}))}};const qt=(0,f.A)(zt,[["__scopeId","data-v-152c7362"]]);var Zt=qt,Gt={components:{item:Zt},name:"list",props:["todos","checktodo","removetodo"]};const te=(0,f.A)(Gt,[["render",Vt],["__scopeId","data-v-d99ff7ec"]]);var ee=te,ae={name:"App",components:{top:Wt,myfoot:Bt,list:ee},setup(){let t=(0,s.Kh)(Array.isArray(JSON.parse(localStorage.getItem("todos")))?JSON.parse(localStorage.getItem("todos")):[]);function e(){t.length=0}function a(){let t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,0,0);return e.getTime()-t.getTime()}function n(){let t=a();setTimeout(()=>{e(),n()},t)}function i(e){t.unshift(e)}function l(e){t.forEach(t=>{t.id===e&&(t.done=!t.done)})}function r(e){t.forEach((a,n)=>{console.log(t),a.id===e&&t.splice(n,1)})}function d(e){e?t.forEach(t=>{t.done=!0}):t.forEach(t=>{t.done=!1})}function c(e){console.log(e),t.forEach(t=>{t.id===e.id&&(t.title=e.value)})}return n(),(0,o.sV)(()=>{p.on("edition",c)}),(0,o.wB)(t,t=>{localStorage.setItem("todos",JSON.stringify(t))},{deep:!0,immediate:!0}),{todos:t,receive:i,checktodo:l,removetodo:r,select:d,editthings:c}}};const ne=(0,f.A)(ae,[["render",Xt],["__scopeId","data-v-d8072a46"]]);var oe=ne,ie={components:{todolist:oe},props:["alldata"],setup(t){const e=new Date;var a=(0,s.KR)(!0);setTimeout(()=>{a.value=!1},1050);const n=(0,s.KR)(null),i=(0,s.KR)(null);let l=null,r=null;var d=(0,s.Kh)(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].indicator),c=(0,s.Kh)(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].history),u=(0,s.Kh)(t.alldata[e.getFullYear()][e.getMonth()][e.getDate()].mood);return(0,o.sV)(async()=>{if(await(0,o.dY)(),n.value){const t=n.value.getContext("2d");l=new at.Ay(t,{type:"bar",data:{labels:["情绪正面程度","情绪负面程度","今日情绪记录的可信度","今日情绪稳定程度"],datasets:[{label:"评估值",data:d,backgroundColor:["#4CAF50","#2196F3","#FF9800","#9C27B0"],borderRadius:6,barThickness:24}]},options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!1},title:{display:!0,text:"个人情绪指标图",font:{size:18}},tooltip:{callbacks:{label:t=>`${t.label}: ${t.raw} 分`}}},scales:{x:{min:0,title:{display:!0,text:"得分分数"},ticks:{callback:t=>t}}}}})}if(i.value){const t=i.value.getContext("2d"),e={"喜悦":"那是时间留给生命的翩翩起舞。","平静":"平常一般的平淡如水或许才是生活的真相。","悲伤":"你哭了，我知道。","愤怒":"很久很久以前，我也有如此的模样……","复杂":"很少有纯粹的人，正如没有纯粹的情绪一样","厌恶":"答应我，诀别的时候，不要这样……","惊讶":"不期而遇的，是我们久别重逢的一见如故","恐惧":"就像生如朝露，就像天暖人暮"};r=new at.Ay(t,{type:"pie",data:{labels:["喜悦","悲伤","愤怒","惊讶","厌恶","恐惧","复杂"],datasets:[{label:"本周情绪构成",data:u,backgroundColor:["#228B22","#191970","#DC143C","#9932CC","#A0522D","#DCDCDC","#B0C4DE"],borderWidth:1}]},options:{responsive:!0,plugins:{tooltip:{callbacks:{label:t=>{const a=t.label,n=t.raw,o=e[a]||"";return`${a}: ${n}%\n${o}`}}},legend:{position:"bottom"},title:{display:!0,text:"今日情绪组成（百分比）",font:{size:18}}}}})}}),{chartCanvas:n,chartPie:i,animatefalse:a,selfhistory:c}}};const le=(0,f.A)(ie,[["render",At],["__scopeId","data-v-01c2a085"]]);var re=le,se={components:{firstlefttop:X,firstleftmain:Q,firstrighttop:B,firstrightfirst:it,firstrightsecond:kt,firstrightthird:re},props:["alldata","actionhistory"],emit:["firstchangechoice"],setup(t,{emit:e}){var a=(0,s.Kh)([!0,!1,!1]);function n(t){a.forEach((t,e)=>{a[e]=!1}),a[t]=!0}var o=(0,s.Kh)([!0,!1,!1]);function i(t){o.forEach((t,e)=>{o[e]=!1}),o[t]=!0}return{changechoice:n,choice:a,changefirstpage:i,firstpage:o,props:t}}};const de=(0,f.A)(se,[["render",K],["__scopeId","data-v-5cd1b083"]]);var ce=de;const ue={id:"secondall"};function me(t,e,a,n,i,l){const r=(0,o.g2)("secondleft"),s=(0,o.g2)("secondmiddle"),d=(0,o.g2)("secondre");return(0,o.uX)(),(0,o.CE)("div",ue,[(0,o.bF)(r),n.middleappear?((0,o.uX)(),(0,o.Wv)(s,{key:0,target:n.goal},null,8,["target"])):(0,o.Q3)("",!0),n.reappear?((0,o.uX)(),(0,o.Wv)(d,{key:1,target:n.goal,res:n.result},null,8,["target","res"])):(0,o.Q3)("",!0)])}const ve={id:"secondleft"};function he(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",ve,[(0,o.Lk)("ul",null,[(0,o.Lk)("li",{onClick:e[0]||(e[0]=t=>n.secondpage(0)),title:"点击进入文本识别",class:(0,l.C4)(["animate-item",{bechosen:n.choice[0]}])},"文本识别",2),(0,o.Lk)("li",{onClick:e[1]||(e[1]=t=>n.secondpage(1)),title:"点击进入文本识别",class:(0,l.C4)(["animate-item",{bechosen:n.choice[1]}])},"图片识别",2),(0,o.Lk)("li",{onClick:e[2]||(e[2]=t=>n.secondpage(2)),title:"点击进入文本识别",class:(0,l.C4)(["animate-item",{bechosen:n.choice[2]}])},"音频识别",2),(0,o.Lk)("li",{onClick:e[3]||(e[3]=t=>n.secondpage(3)),title:"点击进入文本识别",class:(0,l.C4)(["animate-item",{bechosen:n.choice[3]}])},"脑电识别",2)])])}var pe={setup(){var t=(0,s.KR)(null),e=(0,s.Kh)([!1,!1,!1,!1]);function a(a){const n=["文本识别","图片识别","音频识别","脑电识别"];p.emit("information",`选择：${n[a]}`),p.emit("startsecond",a),t.value=a,e.forEach((t,a)=>{e[a]=!1}),e[a]=!0,p.emit("closere",!1)}function n(t){e.forEach((a,n)=>{e[n]=t})}return t.value&&(e[t.value]=!0),(0,o.sV)(()=>{p.on("closesecondmain",n)}),{secondpage:a,choice:e}}};const ge=(0,f.A)(pe,[["render",he],["__scopeId","data-v-352e72aa"]]);var fe=ge;const ye={id:"secondmain"},ke={id:"secondgo"},_e={id:"secondsaying"},be={class:"saying"},Ce={class:"saying"},Le={class:"saying"},we={id:"secondinput",style:{"background-image":"url('/src/16.png')"}},Ke={class:"chosenfile"},Ie={id:"light"},Re={id:"lightfirst"},Ee={id:"lightsay"};function Ae(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",ye,[(0,o.Lk)("button",{id:"close",onClick:e[0]||(e[0]=(...t)=>n.closeseconmain&&n.closeseconmain(...t))},"关闭"),(0,o.Lk)("div",ke,[(0,o.Lk)("div",_e,[(0,o.Lk)("p",be,(0,l.v_)(n.character[n.props.target].first),1),(0,o.Lk)("p",Ce,(0,l.v_)(n.character[n.props.target].second),1),(0,o.Lk)("p",Le,(0,l.v_)(n.character[n.props.target].third),1)]),(0,o.Lk)("div",we,[(0,o.Lk)("input",{type:"file",id:"trueinput",onChange:e[1]||(e[1]=(...t)=>n.setupfile&&n.setupfile(...t))},null,32),(0,o.Lk)("div",Ke,(0,l.v_)(n.chosenfile),1)]),(0,o.Lk)("div",Ie,[(0,o.Lk)("div",Re,[(0,o.Lk)("div",{id:"deng",style:(0,l.Tr)({"background-color":n.colorchoice})},null,4),(0,o.Lk)("p",Ee,(0,l.v_)(n.inner),1)]),n.submittime?((0,o.uX)(),(0,o.CE)("button",{key:0,id:"secondsubmit",class:"animate__bounceIn animate_animated",onClick:e[2]||(e[2]=(...t)=>n.submitted&&n.submitted(...t))},"提交")):(0,o.Q3)("",!0),n.showre?((0,o.uX)(),(0,o.CE)("button",{key:1,id:"secondshowre",class:"animate__bounceIn animate_animated",onClick:e[3]||(e[3]=(...t)=>n.showit&&n.showit(...t))},"显示结果")):(0,o.Q3)("",!0)])])])}var xe=a(4335),De={props:["target"],setup(t){function e(){p.emit("closesecondmain",!1)}var a,n,o=(0,s.KR)("文件待上传"),i=(0,s.KR)("red"),l=(0,s.KR)(!1),r=(0,s.KR)("未选择文件"),d=(0,s.KR)(!1);function c(){o.value="识别完成！",i.value="green",d.value=!0}function u(){o.value="后端服务错误！",i.value="red"}var m=[{first:"透过对字里行间的行文的分析串联起一个个无声的文字",second:"织成细腻而婉转的笔者的弦外之音",third:"从而剖析出，每一句所蕴含的情绪的意义"},{first:"计算机……冰冷的机器么，不，它们也有视觉",second:"有着我们给予它们的，关于图片和情绪的记忆",third:"通过这些记忆，再去读懂我们的图片，便能得出其中思绪……"},{first:"因能量而颤动并向外传送波纹的信息",second:"当计算机学会了这些信息承载的意义",third:"它们也能够以数据分析和数据库为我们去阅读这些频率"},{first:"我们当然看不到我们悲喜之际的脑电",second:"将其捕捉，交给计算机吧",third:"我们的系统能够很快地给出答案"}];function v(t){if(d.value=!1,p.emit("showit",!1),t.target.files[0]){a=t.target.files[0],o.value="文件待提交",i.value="yellow",l.value=!0;var e=t.target.files[0].name;r.value=`已选择：${e}`,p.emit("information","上传成功！")}else i.value="red",o.value="文件上传错误！"}function h(){console.log("当前上传的文件：",a),i.value="orange",o.value="文件正在分析...";const e=new FormData;a?0===t.target?(e.append("text_file",a),xe.A.post("/api/text",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{n=t,p.emit("information","识别成功！"),c()}).catch(t=>{console.log(t),u()})):1===t.target?(e.append("pic_file",a),xe.A.post("/api/pic",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{n=t,p.emit("information","识别成功！"),c()}).catch(t=>{console.log(t),u()})):2===t.target?(e.append("sound_file",a),xe.A.post("/api/sound",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{n=t,console.log(t.data),p.emit("information","识别成功！"),c()}).catch(t=>{console.log(t),u()})):3===t.target&&(e.append("brain_file",a),xe.A.post("/api/brain",e,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{n=t,p.emit("information","识别成功！（脑电结果不计入统计）"),c()}).catch(t=>{console.log(t),u()})):(i.value="red",o.value="文件有错误！")}function g(){p.emit("showit",{isshow:!0,result:n,id:t.target})}return{closeseconmain:e,character:m,props:t,inner:o,colorchoice:i,setupfile:v,submittime:l,submitted:h,chosenfile:r,showre:d,showit:g}}};const Xe=(0,f.A)(De,[["render",Ae],["__scopeId","data-v-eed695f0"]]);var Fe=Xe;const Te={id:"reall",class:"animate__bounceIn animate_animated"},$e={id:"remain"};function Me(t,e,a,n,i,l){const r=(0,o.g2)("textre"),s=(0,o.g2)("soundre"),d=(0,o.g2)("picre"),c=(0,o.g2)("brainre");return(0,o.uX)(),(0,o.CE)("div",Te,[e[0]||(e[0]=(0,o.Lk)("p",{id:"secondretitle"},"结果分析",-1)),e[1]||(e[1]=(0,o.Lk)("br",null,null,-1)),e[2]||(e[2]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",$e,[n.where[0]?((0,o.uX)(),(0,o.Wv)(r,{key:0,result:n.secondresult[0]},null,8,["result"])):(0,o.Q3)("",!0),n.where[2]?((0,o.uX)(),(0,o.Wv)(s,{key:1,result:n.secondresult[2]},null,8,["result"])):(0,o.Q3)("",!0),n.where[1]?((0,o.uX)(),(0,o.Wv)(d,{key:2,result:n.secondresult[1]},null,8,["result"])):(0,o.Q3)("",!0),n.where[3]?((0,o.uX)(),(0,o.Wv)(c,{key:3,result:n.secondresult[3]},null,8,["result"])):(0,o.Q3)("",!0)])])}const Se={id:"secondresult"},We={ref:"chartCanvas"},Qe={key:0,id:"secondpicsay"};function Oe(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",Se,[(0,o.Lk)("canvas",We,null,512),e[1]||(e[1]=(0,o.Lk)("br",null,null,-1)),e[2]||(e[2]=(0,o.Lk)("hr",null,null,-1)),n.resultText?((0,o.uX)(),(0,o.CE)("div",Qe,[e[0]||(e[0]=(0,o.eW)(" 识别的结果为： ",-1)),(0,o.Lk)("h1",null,(0,l.v_)(n.resultText),1)])):(0,o.Q3)("",!0)])}var Ye={props:["result"],setup(t){const e=new Date,a=(0,s.KR)(""),n=["快乐","悲伤","愤怒","惊喜","厌恶","恐惧","复杂"],i={"快乐":0,"悲伤":1,"愤怒":2,"惊喜":3,"厌恶":4,"恐惧":5,"复杂":6};var l=[t.result.data.joy,t.result.data.sadness,t.result.data.anger,t.result.data.surprise,t.result.data.disgust,t.result.data.fear,t.result.data.others];function r(t){var e="",a=0;return t.forEach((o,i)=>{t[i]>a&&(e=n[i],a=t[i])}),console.log("res",e),e}l.forEach((t,e)=>{l[e]=Number(l[e])}),a.value=r(l),p.emit("changehistory",{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),where:0,time:1,action:`<p class=actionmain>您使用了文本识别，识别结果是<strong>${a.value}</strong></p>`});const d=(0,s.KR)(null);let c=null;async function u(t){if(await(0,o.dY)(),!d.value)return void console.error("canvas 还没挂载");c&&c.destroy();const r=d.value.getContext("2d");c=new at.t1(r,{type:"bar",data:{labels:n,datasets:[{label:"情感分析结果",data:l,backgroundColor:["rgb(0,255,127)","rgb(0,255,255)","rgb(220,20,60)","rgb(255,215,0)","rgb(128,128,0)","rgb(25,25,112)","rgb(138,43,226)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(t){return t.toFixed(0)+"%"}}}}}}),p.emit("changemoodhistory",{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),where:i[a.value.trim()],time:1})}return p.emit("actionhistory",{action:`<p class=actionmain>您刚刚使用了文本识别，识别结果是<strong>${a.value}</strong></p>`}),u(t.result),(0,o.sV)(()=>{}),(0,o.hi)(()=>{c&&c.destroy()}),{resultText:a,chartCanvas:d}}};const je=(0,f.A)(Ye,[["render",Oe],["__scopeId","data-v-191e4080"]]);var Ue=je;const Be={id:"soundre"};function Pe(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",Be,[e[0]||(e[0]=(0,o.Lk)("br",null,null,-1)),e[1]||(e[1]=(0,o.Lk)("hr",null,null,-1)),e[2]||(e[2]=(0,o.Lk)("h1",null,"识别的结果为：",-1)),e[3]||(e[3]=(0,o.Lk)("br",null,null,-1)),e[4]||(e[4]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("p",null,(0,l.v_)(n.picre[n.props.result.data.trim()]),1)])}var Ve={props:["result"],setup(t){const e=new Date,a={"高兴":0,"悲伤":1,"愤怒":2,"惊讶":3,"厌恶":4,"恐惧":5,"平静":6},n={"高兴":"高兴😄","悲伤":"悲伤😢","愤怒":"愤怒😠","惊讶":"惊讶😮","厌恶":"厌恶🤢","恐惧":"恐惧😨","平静":"平静😐"};return console.log("data",t.result.data),p.emit("changehistory",{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),where:0,time:1,action:"<p class=actionmain>您使用了音频识别，识别结果是<strong>"+t.result.data+"</strong></p>"}),p.emit("changemoodhistory",{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),where:a[t.result.data.trim()],time:1}),{props:t,picre:n}}};const He=(0,f.A)(Ve,[["render",Pe],["__scopeId","data-v-e608140c"]]);var Je=He;const Ne={id:"secondbrainre"},ze={ref:"chartCanvas"},qe={key:0,id:"secondpicsay"};function Ze(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",Ne,[(0,o.Lk)("canvas",ze,null,512),e[1]||(e[1]=(0,o.Lk)("br",null,null,-1)),e[2]||(e[2]=(0,o.Lk)("hr",null,null,-1)),n.resultText?((0,o.uX)(),(0,o.CE)("div",qe,[e[0]||(e[0]=(0,o.eW)(" 识别的结果为： ",-1)),(0,o.Lk)("h1",null,(0,l.v_)(n.resultText),1)])):(0,o.Q3)("",!0)])}var Ge={props:["result"],setup(t){function e(t){let e="",a=0;return t.forEach((t,n)=>{t>a&&(e=i[n],a=t)}),e}const a=new Date,n=Object.values(t.result.data);console.log("***",n),n.forEach((t,e)=>{n[e]=Number(n[e])});const i=["消极","中性","积极"],l=(0,s.KR)("");l.value=e(n),p.emit("changehistory",{year:a.getFullYear(),month:a.getMonth(),day:a.getDate(),where:0,time:1,action:`<p class=actionmain>您使用了脑电识别，识别结果是<strong>${l.value}</strong></p>`});const r=(0,s.KR)(null);let d=null;async function c(t){if(await(0,o.dY)(),!r.value)return void console.error("canvas 还没挂载");d&&d.destroy();const e=r.value.getContext("2d");d=new at.t1(e,{type:"bar",data:{labels:i,datasets:[{label:"情绪占比 (%)",data:n,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(t){return t.toFixed(0)+"%"}}}},plugins:{legend:{display:!0}}}})}return(0,o.sV)(()=>{c(t.result)}),(0,o.hi)(()=>{d&&d.destroy()}),{resultText:l,chartCanvas:r}}};const ta=(0,f.A)(Ge,[["render",Ze],["__scopeId","data-v-4a0fa78a"]]);var ea=ta;const aa={id:"secondresult"},na={ref:"chartCanvas"},oa={key:0,id:"secondpicsay"};function ia(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",aa,[(0,o.Lk)("canvas",na,null,512),e[1]||(e[1]=(0,o.Lk)("br",null,null,-1)),e[2]||(e[2]=(0,o.Lk)("hr",null,null,-1)),n.resultText?((0,o.uX)(),(0,o.CE)("div",oa,[e[0]||(e[0]=(0,o.eW)(" 识别的结果为： ",-1)),(0,o.Lk)("h1",null,(0,l.v_)(n.resultText),1)])):(0,o.Q3)("",!0)])}var la={props:["result"],setup(t){const e=new Date;console.log(t.result);const a={"高兴":0,"伤心":1,"愤怒":2,"惊讶":3,"厌恶":4,"恐惧":5,"中性":6},n=(0,s.KR)("");console.log("结果",t.result.data.re),n.value=t.result.data.re,console.log("图片这边的表格",t.result.data),p.emit("changehistory",{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),where:0,time:1,action:`<p class=actionmain>您刚刚使用了图片识别，识别结果是<strong>${n.value}</strong></p>`}),p.emit("changemoodhistory",{year:e.getFullYear(),month:e.getMonth(),day:e.getDate(),where:a[t.result.data.re],time:1}),p.emit("actionhistory",{action:`<p class=actionmain>您使用了图片识别，识别结果是<strong>${n.value}</strong></p>`});const i=(0,s.KR)(null);let l=null;const r=["愤怒","厌恶","恐惧","快乐","复杂","悲伤","惊讶"];async function d(t){if(await(0,o.dY)(),!i.value)return void console.error("canvas 还没挂载");l&&l.destroy();const e=[t.data.angry,t.data.disgust,t.data.fear,t.data.happy,t.data.neutral,t.data.sad,t.data.surprise],a=i.value.getContext("2d");l=new at.t1(a,{type:"bar",data:{labels:r,datasets:[{label:"情感分析结果",data:e,backgroundColor:["rgba(255, 99, 132)","rgba(54, 162, 235)","rgba(255, 206, 86)","rgba(75, 192, 192)","rgba(153, 102, 255)","rgba(255, 159, 64)","rgba(255, 255, 255)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 255, 255, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(t){return t.toFixed(0)+"%"}}}}}})}return d(t.result),(0,o.sV)(()=>{}),(0,o.hi)(()=>{l&&l.destroy()}),{resultText:n,chartCanvas:i}}};const ra=(0,f.A)(la,[["render",ia],["__scopeId","data-v-99d0702e"]]);var sa=ra,da={components:{textre:Ue,soundre:Je,brainre:ea,picre:sa},props:["target","res"],setup(t){var e=(0,s.Kh)([!1,!1,!1,!1]),a=(0,s.Kh)([!1,!1,!1,!1]);return e[t.target]=!0,a[t.target]=t.res,console.log(a),{where:e,props:t,secondresult:a}}};const ca=(0,f.A)(da,[["render",Me],["__scopeId","data-v-06714ba5"]]);var ua=ca,ma={components:{secondleft:fe,secondmiddle:Fe,secondre:ua},setup(){var t=(0,s.KR)(null),e=(0,s.KR)(0),a=(0,s.KR)(!1),n=(0,s.KR)(!1);function i(t){a.value=!1,setTimeout(()=>{a.value=!0},0),e.value=t}function l(t){a.value=t,n.value=t}function r(e){console.log(e),t.value=e.result,setTimeout(()=>{n.value=e.isshow},1)}function d(t){n.value=t}return(0,o.sV)(()=>{p.on("startsecond",i),p.on("closesecondmain",l),p.on("showit",r),p.on("closere",d)}),(0,o.hi)(()=>{p.off("startsecond",i),p.off("closesecondmain",l),p.off("showit",r)}),{middleappear:a,startmain:i,goal:e,reappear:n,result:t}}};const va=(0,f.A)(ma,[["render",me],["__scopeId","data-v-1df0d422"]]);var ha=va;const pa={id:"thirdall"};function ga(t,e,a,n,i,r){const s=(0,o.g2)("thirdleft"),d=(0,o.g2)("thirdright");return(0,o.uX)(),(0,o.CE)("div",pa,[n.enter?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,id:"return",onClick:e[0]||(e[0]=(...t)=>n.comeback&&n.comeback(...t)),class:(0,l.C4)([n.chooseleft?"leftreturn":"",n.chooseright?"rightreturn":"",!n.enter&&n.chooseleft?"animate__fadeInLeft animate__animated":"",!n.enter&&n.chooseright?"animate__fadeInRight animate__animated":"",n.enter?"animate__fadeOut":""])}," 返回 ",2)),(0,o.Lk)("div",{class:(0,l.C4)([n.chooseleft?"":"both",n.enter?"animate__fadeInLeft animate__animated":"",n.leftout?"animate__fadeOutLeft animate__animated":"",n.chooseleft?"bechosen":""])},[(0,o.bF)(s)],2),n.middleout?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,id:"chosediv",class:(0,l.C4)([n.enter?"animate__fadeInUp animate__animated":"",n.middleout?"animate__fadeOutDown animate__animated":""])},[n.middleout?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:0,class:"chose",style:{"background-image":"url('./src/60.png')"},onClick:e[1]||(e[1]=(...t)=>n.choseleft&&n.choseleft(...t))})),n.middleout?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"chose",style:{"background-image":"url('./src/61.png')"},onClick:e[2]||(e[2]=(...t)=>n.choseright&&n.choseright(...t))}))],2)),(0,o.Lk)("div",{class:(0,l.C4)([n.chooseright?"":"both",n.enter?"animate__fadeInRight animate__animated":"",n.rightout?"animate__fadeOutRight animate__animated":"",n.chooseright?"bechosen":""])},[(0,o.bF)(d)],2)])}const fa={id:"thirdchatall"},ya={id:"thirdchatbox"},ka={class:"thirdrole"},_a={class:"thirdcontent"},ba={key:0,class:"thirdthinking"},Ca={id:"thirdinputbox"};function La(t,e,a,i,r,s){return(0,o.uX)(),(0,o.CE)("div",fa,[(0,o.Lk)("div",ya,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.thirdmessages,(t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:(0,l.C4)(["thirdchatmsg","user"===t.role?"thirduser":"thirdai"])},[(0,o.Lk)("p",ka,(0,l.v_)("user"===t.role?"你":"情绪倾诉AI"),1),(0,o.Lk)("p",_a,(0,l.v_)(t.content),1),t.thinking?((0,o.uX)(),(0,o.CE)("p",ba,"🤔 思考："+(0,l.v_)(t.thinking),1)):(0,o.Q3)("",!0)],2))),128))]),(0,o.Lk)("div",Ca,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.thirdinput=t),id:"thirdinput",type:"text",placeholder:"请输入你的问题...",onKeyup:e[1]||(e[1]=(0,n.jR)((...t)=>i.thirdsend&&i.thirdsend(...t),["enter"]))},null,544),[[n.Jo,i.thirdinput]]),(0,o.Lk)("button",{id:"thirdsendbtn",onClick:e[2]||(e[2]=(...t)=>i.thirdsend&&i.thirdsend(...t))},"发送")])])}var wa={name:"ThirdChat",setup(){const t=new Date,e=(0,s.KR)(""),a=(0,s.KR)([]),n=async()=>{if(!e.value.trim())return;a.value.push({role:"user",content:e.value});const n=e.value;e.value="";const o=a.value.push({role:"ai",content:"收到您的信息，我正在思考……"})-1;try{const t=await xe.A.post("/api/chat",{message:n});a.value[o]={role:"ai",content:t.data.reply,thinking:t.data.thinking}}catch(i){a.value[o]={role:"ai",content:"出错了，请稍后重试。"},console.error(i)}p.emit("changehistory",{year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),where:1,time:1,action:"<p id=actionmain>您使用了情绪调频中的<strong>AI调频</strong></p>"})};return{thirdinput:e,thirdmessages:a,thirdsend:n}}};const Ka=(0,f.A)(wa,[["render",La],["__scopeId","data-v-9ab02730"]]);var Ia=Ka;const Ra={id:"thirdtimeassistant",class:"thirdcontainer"},Ea={id:"thirdtoprow",class:"thirdtoprow"},Aa={id:"thirdmain",class:"thirdmain"},xa={id:"thirdleftbar",class:"thirdleftbar"},Da={id:"thirdrightarea",class:"thirdrightarea"},Xa={key:0,id:"thirdtimerview",class:"thirdtimerview"},Fa={id:"thirdtimedisplaywrap",class:"thirdtimedisplaywrap"},Ta={id:"thirdtimedisplay",class:"thirdtimedisplay"},$a={id:"thirdprogresswrap",class:"thirdprogresswrap"},Ma={class:"thirdprogressbar"},Sa={class:"thirdmarkerswrap"},Wa=["title"],Qa={id:"thirdcontrols",class:"thirdcontrols"},Oa={key:1,id:"thirdreliefview",class:"thirdreliefview"},Ya={class:"thirdreliefgrid"},ja=["src"],Ua={class:"thirdreliefbody"},Ba={class:"thirdrelieftitle"},Pa={class:"thirdreliefdesc"},Va=["href"],Ha={class:"thirdbackbtnwrap"};function Ja(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",Ra,[(0,o.Lk)("div",Ea,[(0,o.Lk)("button",{class:"thirtopaudio",onClick:e[0]||(e[0]=t=>n.thirdPlayAudio("wind"))},"风"),(0,o.Lk)("button",{class:"thirtopaudio",onClick:e[1]||(e[1]=t=>n.thirdPlayAudio("rain"))},"雨"),(0,o.Lk)("button",{class:"thirtopaudio",onClick:e[2]||(e[2]=t=>n.thirdPlayAudio("bird"))},"鸟"),(0,o.Lk)("button",{class:"thirtopaudio",onClick:e[3]||(e[3]=t=>n.thirdPlayAudio("stream"))},"溪")]),(0,o.Lk)("div",Aa,[(0,o.Lk)("div",xa,[(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[4]||(e[4]=t=>n.thirdAdjustMinutes(1))},"增加1分钟"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[5]||(e[5]=t=>n.thirdAdjustMinutes(5))},"增加5分钟"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[6]||(e[6]=t=>n.thirdAdjustMinutes(30))},"增加30分钟"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[7]||(e[7]=t=>n.thirdAdjustMinutes(-1))},"减少1分钟"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[8]||(e[8]=t=>n.thirdAdjustMinutes(-5))},"减少5分钟"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[9]||(e[9]=t=>n.thirdAdjustMinutes(-30))},"减少30分钟"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[10]||(e[10]=(...t)=>n.thirdAddWaterReminder&&n.thirdAddWaterReminder(...t))},"增加喝水提醒"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[11]||(e[11]=(...t)=>n.thirdSetRestPoint&&n.thirdSetRestPoint(...t))},"设置休息点"),(0,o.Lk)("button",{class:"thirdctrlbtn",onClick:e[12]||(e[12]=(...t)=>n.thirdSwitchToRelief&&n.thirdSwitchToRelief(...t))},"缓解情绪")]),(0,o.Lk)("div",Da,["timer"===n.thirdActiveView?((0,o.uX)(),(0,o.CE)("div",Xa,[(0,o.Lk)("div",Fa,[(0,o.Lk)("div",Ta,(0,l.v_)(n.thirdDisplayTime),1)]),(0,o.Lk)("div",$a,[(0,o.Lk)("div",Ma,[(0,o.Lk)("div",{class:"thirdprogressinner",style:(0,l.Tr)({width:n.thirdProgressPercent+"%",backgroundColor:n.thirdProgressColor})},null,4)]),(0,o.Lk)("div",Sa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.thirdMarkers,(t,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"thirdmarker",style:(0,l.Tr)({backgroundColor:t.color,left:t.minute/120*100+"%"}),title:"water"===t.type?"喝水提醒: "+t.minute+" 分钟":"休息点: "+t.minute+" 分钟"},null,12,Wa))),128))])]),(0,o.Lk)("div",Qa,[(0,o.Lk)("button",{class:"thirdactionbtn",onClick:e[13]||(e[13]=(...t)=>n.thirdStart&&n.thirdStart(...t))},"开始"),(0,o.Lk)("button",{class:"thirdactionbtn",onClick:e[14]||(e[14]=(...t)=>n.thirdPause&&n.thirdPause(...t))},"暂停"),(0,o.Lk)("button",{class:"thirdactionbtn",onClick:e[15]||(e[15]=(...t)=>n.thirdImmediateEnd&&n.thirdImmediateEnd(...t))},"立即结束")])])):(0,o.Q3)("",!0),"relief"===n.thirdActiveView?((0,o.uX)(),(0,o.CE)("div",Oa,[(0,o.Lk)("div",Ya,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.thirdReliefItems,(t,e)=>((0,o.uX)(),(0,o.CE)("div",{class:"thirdreliefcard",key:e},[(0,o.Lk)("img",{src:t.img,alt:"",class:"thirdreliefimg"},null,8,ja),(0,o.Lk)("div",Ua,[(0,o.Lk)("h3",Ba,(0,l.v_)(t.title),1),(0,o.Lk)("p",Pa,(0,l.v_)(t.desc),1),(0,o.Lk)("a",{class:"thirdrelieflink",href:t.link,target:"_blank"},"了解更多",8,Va)])]))),128))]),(0,o.Lk)("div",Ha,[(0,o.Lk)("button",{class:"thirdactionbtn",onClick:e[16]||(e[16]=(...t)=>n.thirdSwitchToTimer&&n.thirdSwitchToTimer(...t))},"返回计时")])])):(0,o.Q3)("",!0)])])])}var Na={name:"ThirdTimeAssistant",setup(){const t=(0,s.Kh)({wind:"/src/68.m4a",rain:"/src/69.m4a",bird:"/src/70.m4a",stream:"/src/71.m4a"});let e=null,a=0;const n=n=>{const o={wind:"风",rain:"雨",bird:"鸟",stream:"溪"};console.log("音频现在的数字",a);try{if(e&&a%2!==0)return e.pause(),e.currentTime=0,p.emit("information","已暂停！"),void a++}catch(i){}t[n]&&a%2===0?(e=new Audio(t[n]),e.loop=!0,a++,p.emit("information",`正在播放·${o[n]}，再次点击可暂停`),p.emit("changeaction",{action:`<p id=actionmain>您使用了<strong>情绪调频</strong>并播放了白噪音<strong>《${o[n]}》</strong></p>`}),e.play().catch(t=>{console.warn("音频播放失败，可能浏览器限制自动播放：",t)})):console.log("播放音频占位：",n)},i=(0,s.KR)(0),l=(0,s.KR)(0),r=(0,s.KR)(null),d=(0,s.KR)(!1),c=(0,s.KR)([]),u=["#ff7f7f","#7fbfff","#7fffbf","#ffd27f","#c57fff","#7fffff","#ffb3ff"],m=(0,s.KR)([]),v=(0,s.KR)(u[0]),h=(0,s.KR)("timer"),g=(0,s.KR)([{title:"情绪指南针",desc:"导向您的学习，明白如何处理您的情绪",img:"/src/65.png",link:"https://emotioncompass.org/zh/"},{title:"心理服务",desc:"中国国民心理健康服务，爱让生命更美好",img:"/src/66.png",link:"http://psy.china.com.cn/2023-06/20/content_42329815.htm"},{title:"FeelGoodPal",desc:"营养、健康和幸福的建议",img:"/src/67.png",link:"https://feelgoodpal.com/zh/blog/ways-to-relieve-stress-and-anxiety/"}]),f=(0,o.EW)(()=>i.value/120*100),y=t=>{const e=Math.max(0,Math.floor(t)),a=Math.floor(e/60).toString().padStart(2,"0"),n=(e%60).toString().padStart(2,"0");return`${a}:${n}`},k=(0,o.EW)(()=>l.value||i.value?!d.value&&i.value?`${String(i.value).padStart(2,"0")}:00`:y(l.value):"00:00"),_=t=>{const e=i.value;let a=e+t;a>120&&(a=120),a<0&&(a=0);const n=a-e;i.value=a,d.value&&0!==n?l.value=Math.max(0,l.value+60*n):d.value||(l.value=a>0?60*a:0)},b=()=>{for(const e of u)if(!m.value.includes(e))return m.value.push(e),e;let t;do{t="#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")}while(m.value.includes(t));return m.value.push(t),t},C=()=>{const t=Math.max(0,Math.min(120,Math.ceil(i.value))),e=b();c.value.push({type:"water",minute:t,color:e,triggered:!1}),v.value=e,console.log("已添加喝水提醒，minute=",t)},L=()=>{const t=Math.max(0,Math.min(120,Math.ceil(i.value))),e=b();c.value.push({type:"rest",minute:t,color:e,triggered:!1}),v.value=e,console.log("已设置休息点，minute=",t)},w=t=>{"water"===t.type?console.log("喝水"):"rest"===t.type&&console.log("休息"),t.triggered=!0},K=()=>{i.value<=0&&l.value<=0||(l.value||(l.value=60*i.value),r.value&&(clearInterval(r.value),r.value=null),p.emit("action",{action:"<p id=actionmain>您使用了情绪调频中的<strong>休憩助手</strong></p>"}),d.value=!0,r.value=setInterval(()=>{if(l.value>0){l.value-=1;const t=Math.ceil(l.value/60);c.value.forEach(e=>{e.triggered||t!==e.minute||w(e)})}else clearInterval(r.value),r.value=null,d.value=!1,console.log("计时结束")},1e3))},I=()=>{r.value&&(clearInterval(r.value),r.value=null),d.value=!1},R=()=>{if(l.value>0){const t=confirm("倒计时尚未结束，是否确定立即结束？");if(!t)return}r.value&&(clearInterval(r.value),r.value=null),d.value=!1,l.value=0,i.value=0,c.value=[],m.value=[],v.value=u[0]},E=()=>{h.value="relief"},A=()=>{h.value="timer"};return(0,o.hi)(()=>{if(r.value&&clearInterval(r.value),e)try{e.pause(),e=null}catch(t){}}),{thirdPlayAudio:n,thirdConfiguredMinutes:i,thirdRemainingSeconds:l,thirdMarkers:c,thirdProgressPercent:f,thirdProgressColor:v,thirdDisplayTime:k,thirdIsRunning:d,thirdActiveView:h,thirdReliefItems:g,thirdAdjustMinutes:_,thirdAddWaterReminder:C,thirdSetRestPoint:L,thirdStart:K,thirdPause:I,thirdImmediateEnd:R,thirdSwitchToRelief:E,thirdSwitchToTimer:A}}};const za=(0,f.A)(Na,[["render",Ja],["__scopeId","data-v-5a4e4724"]]);var qa=za,Za={components:{thirdleft:Ia,thirdright:qa},setup(){const t=(0,s.KR)(!1),e=(0,s.KR)(!0),a=(0,s.KR)(!1),n=(0,s.KR)(!1),o=(0,s.KR)(!1),i=(0,s.KR)(!1);function l(){e.value=!1,a.value=!0,o.value=!0,n.value=!0,i.value=!1,t.value=!1,p.emit("information","选择：AI情绪缓解")}function r(){e.value=!1,a.value=!0,i.value=!0,o.value=!1,t.value=!0,n.value=!1,p.emit("information","选择：情绪舒缓助手")}function d(){t.value=!1,e.value=!0,a.value=!1,n.value=!1,o.value=!1,i.value=!1}return{leftout:t,enter:e,middleout:a,rightout:n,chooseleft:o,chooseright:i,choseright:r,choseleft:l,comeback:d}}};const Ga=(0,f.A)(Za,[["render",ga],["__scopeId","data-v-b2deec78"]]);var tn=Ga;const en={id:"forthall"},an={key:0,id:"protect"};function nn(t,e,a,n,i,l){const r=(0,o.g2)("forthtop"),s=(0,o.g2)("forthbottom");return(0,o.uX)(),(0,o.CE)("div",en,[n.showprotect?((0,o.uX)(),(0,o.CE)("div",an,"正在加载...")):(0,o.Q3)("",!0),(0,o.bF)(r),(0,o.bF)(s)])}const on={id:"forthtop",class:"animate__fadeInDown animate__animated"},ln={id:"forthtopmain"},rn={id:"forthtopmiddle"},sn=["src"];function dn(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",on,[(0,o.Lk)("div",ln,[(0,o.Lk)("div",{class:"leftright",id:"left",style:{backgroundImage:"url(/src/56.png)"},onClick:e[0]||(e[0]=t=>n.changemusic(0))}),(0,o.Lk)("div",rn,[(0,o.Lk)("img",{src:n.imgsrc[n.choseimg],alt:"",id:"topimg",class:(0,l.C4)({"animate__fadeInLeft animate__animated":n.leftmove,"animate__fadeInRight animate__animated":n.rightmove})},null,10,sn),(0,o.Lk)("p",{class:(0,l.C4)({"animate__fadeInLeft animate__animated":n.leftmove,"animate__fadeInRight animate__animated":n.rightmove})},(0,l.v_)(n.topsaying[n.choseimg]),3)]),(0,o.Lk)("div",{class:"leftright",id:"right",style:{backgroundImage:"url(/src/55.png)"},onClick:e[1]||(e[1]=t=>n.changemusic(1))})])])}var cn={setup(){var t=(0,s.Kh)(["/src/28.jpg","/src/33.jpg","/src/27.jpg","/src/26.jpg","/src/29.jpg","/src/30.jpg","/src/32.jpg","/src/31.jpg"]),e=(0,s.Kh)(["欢喜之刻","蓝调之时","狂野之间","助眠脑波","氛围冥想","自然声音","纯净音乐","长时单曲"]),a=(0,s.Kh)(["你好世界","你好世界","你好世界","你好世界","你好世界","你好世界","你好世界","你好世界"]),n=(0,s.KR)(0),i=(0,s.KR)(!1),l=(0,s.KR)(!1);function r(t){a[n.value]=t.name}function d(e){0===e?(0===n.value?n.value=t.length-1:n.value-=1,i.value=!1,l.value=!0):(n.value===t.length-1?n.value=0:n.value+=1,i.value=!0,l.value=!1),p.emit("musicimg",t[n.value]),p.emit("changemusic",n.value),setTimeout(()=>{i.value=!1,l.value=!1},1050),p.emit("topchange",{isit:!0,nowname:a[n.value],nownum:n.value})}return(0,o.sV)(()=>{p.on("onmusic",r)}),{imgsrc:t,choseimg:n,changemusic:d,leftmove:i,rightmove:l,topsaying:e}}};const un=(0,f.A)(cn,[["render",dn],["__scopeId","data-v-782cdba2"]]);var mn=un;const vn={id:"forthbottom"};function hn(t,e,a,n,i,l){const r=(0,o.g2)("forthbottomleft"),s=(0,o.g2)("forthbottomright");return(0,o.uX)(),(0,o.CE)("div",vn,[(0,o.bF)(r),(0,o.bF)(s)])}const pn={id:"bottomleft",class:"animate__fadeInUp animate__animated"},gn=["src"];function fn(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",pn,[(0,o.Lk)("div",{id:"leftimg",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},[(0,o.Lk)("img",{src:n.mainimg,id:"mainimg",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},null,10,gn)],2),(0,o.Lk)("div",{id:"leftsaying",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},(0,l.v_)(n.musicname[n.musicpagenum]),3),(0,o.Lk)("div",{id:"musictime",ref:"progressBar",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation}),onClick:e[0]||(e[0]=t=>n.seekMusic(t)),onMousedown:e[1]||(e[1]=t=>n.startDrag(t))},[(0,o.Lk)("div",{id:"realtime",style:(0,l.Tr)({width:n.timeratio+"%",height:"100%",backgroundColor:"skyblue"}),class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},null,6)],34),(0,o.Lk)("div",{id:"musicbar",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},[(0,o.Lk)("div",{class:"muscibartool",style:{backgroundImage:"url(/src/19.png)"},onClick:e[2]||(e[2]=t=>n.changemusic(0))}),(0,o.Lk)("div",{class:"muscibartool",style:(0,l.Tr)({backgroundImage:`url(${n.radio})`}),onClick:e[3]||(e[3]=(...t)=>n.changeradio&&n.changeradio(...t))},null,4),(0,o.Lk)("div",{class:"muscibartool",style:{backgroundImage:"url(/src/20.png)"},onClick:e[4]||(e[4]=t=>n.changemusic(1))})],2)])}var yn={setup(){const t=(0,s.KR)(!1),e=(0,s.KR)("/src/28.jpg");var a=(0,s.Kh)(["","","","","","","",""]),n=(0,s.KR)(0);const i=(0,s.KR)("/src/18.png"),l=(0,s.KR)(0),r=(0,s.KR)(!1);let d=null,c=null,u=!1;const m=(0,s.KR)(null);function v(){d&&(d.pause(),d.currentTime=0),r.value=!1,l.value=0,i.value="/src/18.png",c&&(cancelAnimationFrame(c),c=null)}function h(t){void 0!==a[n]?p.emit("samechange",t):p.emit("information","请先选择乐曲！")}function g(e){a[e.nownum]=y(e.nowname),n.value=e.nownum,t.value=e.isit,setTimeout(()=>{t.value=!1},1051),v()}function f(){d&&(d.paused?(d.play(),i.value="/src/17.png"):(d.pause(),i.value="/src/18.png"))}function y(t){return t.replace(/\.[^/.]+$/,"")}function k(t){e.value=t}function _(t){a[n.value]=y(t.name)}function b(){d&&!d.paused&&d.duration&&!u&&(l.value=d.currentTime/d.duration*100,c=requestAnimationFrame(b))}function C(t){if(!d||!m.value)return;const e=m.value.getBoundingClientRect(),a=t.clientX-e.left,n=Math.min(Math.max(a/e.width,0),1);d.currentTime=n*d.duration,l.value=100*n}function L(t){if(!d||!m.value)return;u=!0,w(t);const e=t=>w(t),a=t=>{w(t),u=!1,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",a);const n=m.value.getBoundingClientRect(),o=Math.min(Math.max(t.clientX-n.left,0),n.width),i=o/n.width;d.currentTime=i*d.duration};document.addEventListener("mousemove",e),document.addEventListener("mouseup",a)}function w(t){if(!m.value)return;const e=m.value.getBoundingClientRect(),a=Math.min(Math.max(t.clientX-e.left,0),e.width),n=a/e.width;l.value=100*n}function K(t){d=t,r.value=!0,i.value="/src/17.png",d.play(),b(),d.addEventListener("timeupdate",()=>{d.duration&&!u&&(l.value=d.currentTime/d.duration*100)}),d.addEventListener("ended",()=>{r.value=!1,i.value="/src/18.png",l.value=0,cancelAnimationFrame(c)})}return(0,o.sV)(()=>{p.on("musicimg",k),p.on("onmusic",_),p.on("topchange",g),p.on("musicplay",K),p.on("samepagechange",v)}),(0,o.hi)(()=>{p.off("musicimg",k),p.off("onmusic",_),p.off("topchange",g),p.off("musicplay",K),p.off("samepagechange",v),cancelAnimationFrame(c)}),{mainimg:e,musicname:a,changeradio:f,radio:i,timeratio:l,animation:t,isplay:r,progressBar:m,seekMusic:C,startDrag:L,musicpagenum:n,changemusic:h}}};const kn=(0,f.A)(yn,[["render",fn],["__scopeId","data-v-acbb53e6"]]);var _n=kn;const bn={id:"bottomright",class:"animate__fadeInUp animate__animated"},Cn={key:0,id:"emptysay"},Ln={id:"musicsingle"},wn=["onClick"],Kn=["onClick"],In=["onClick"];function Rn(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",bn,[(0,o.Lk)("div",{id:"rightaction",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},[(0,o.Lk)("div",{class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation,actiontool:!0}),style:{backgroundImage:"url(/src/57.png)"}},[n.animation?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("input",{key:0,type:"file",class:(0,l.C4)(["addremove",{"animate__fadeInUp animate__animated":n.animation,actiontool:!0}]),onChange:e[0]||(e[0]=(...t)=>n.addmusic&&n.addmusic(...t))},null,34))],2),(0,o.Lk)("div",{class:(0,l.C4)({actiontool:!0,"animate__fadeInUp animate__animated":n.animation}),style:{backgroundImage:"url(/src/58.png)"}},null,2),(0,o.Lk)("div",{id:"actionresearch",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},[...e[1]||(e[1]=[(0,o.Lk)("input",{type:"text",id:"researchinput",placeholder:"搜索当前库音乐，回车确定"},null,-1)])],2)],2),(0,o.Lk)("div",{id:"rightlist",class:(0,l.C4)({"animate__fadeInUp animate__animated":n.animation})},[0===n.musiclist[n.imgnum].length?((0,o.uX)(),(0,o.CE)("p",Cn," 当前没有保存有音乐 ")):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.musiclist[n.imgnum],(t,e)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"animate__fadeInUp animate__animated"},[(0,o.Lk)("p",null,(0,l.v_)(n.realname(t.file.name)),1),(0,o.Lk)("div",Ln,[(0,o.Lk)("div",{class:"singletool",style:(0,l.Tr)({backgroundImage:n.musictool[0]}),onClick:a=>n.keepon(t,e)},null,12,wn),(0,o.Lk)("div",{class:"singletool",style:(0,l.Tr)({backgroundImage:n.musictool[1]}),onClick:e=>n.changtoolimg(1,t)},null,12,Kn),(0,o.Lk)("div",{class:"singletool",style:(0,l.Tr)({backgroundImage:n.musictool[2]}),onClick:e=>n.changtoolimg(2,t)},null,12,In)])]))),128))],2)])}a(4603),a(7566),a(8721);var En={setup(){var t,e,a=new Date,n=(0,s.KR)(0),i=(0,s.Kh)([0,0,0,0,0,0,0,0]),l=(0,s.Kh)(["","","","","","","",""]),r=(0,s.KR)(!1),d=(0,s.Kh)([[],[],[],[],[],[],[],[]]),c=(0,s.Kh)(["url(/src/21.png)","url(/src/22.png)","url(/src/24.png)"]);function u(t){r.value=t.isit,setTimeout(()=>{r.value=!1},1051)}function m(t){if(p.emit("samepagechange"),console.log("数列：",d),console.log("现函数：",d[n.value][i[n.value]-1],i[n.value]-1),0===t){if(0===i[n.value])return void p.emit("information","这已经是第一首了！");f(d[n.value][i[n.value]-1],i[n.value]-1)}else{if(i[n.value]===d.length-1)return void p.emit("information","这已经是最后一首了！");f(d[n.value][i[n.value]+1],i[n.value]+1)}}function v(t,e){1===t?("url(/src/22.png)"===c[1]?c[1]="url(/src/23.png)":c[1]="url(/src/22.png)",e.good=!e.good):("url(/src/24.png)"===c[2]?c[2]="url(/src/25.png)":c[2]="url(/src/24.png)",e.love=!e.love)}function h(t){var e=t.target.files[0];d[n.value].push({file:e,chose:!1,love:!1,good:!1}),p.emit("action",{action:"<p id=actionmain>您使用了音乐调频并添加了新歌曲<strong>《"+e.name.replace(/\.[^/.]+$/,"")+"》</strong></p>"}),p.emit("information","添加成功！")}function g(t){return t.replace(/\.[^/.]+$/,"")}function f(o,r){console.log("原函数：",o,r),i[n.value]=r,o.file&&(l[n.value]=o.file.name,t=URL.createObjectURL(o.file),e=new Audio(t),e.play(),p.emit("musicplay",e)),p.emit("changehistory",{year:a.getFullYear(),month:a.getMonth(),day:a.getDate(),where:2,time:1,action:"<p id=actionmain>您使用了音乐调频并播放了歌曲<strong>《"+o.file.name.replace(/\.[^/.]+$/,"")+"》</strong></p>"}),p.emit("onmusic",{name:l[n.value],num:i[n.value]})}return(0,o.sV)(()=>{p.on("changemusic",t=>{n.value=t}),p.on("topchange",u),p.on("samechange",m)}),(0,o.hi)(()=>{p.off("changemusic",t=>{n.value=t}),p.off("topchange",u),p.off("samechange",m)}),{musiclist:d,addmusic:h,realname:g,musictool:c,changtoolimg:v,keepon:f,imgnum:n,animation:r}}};const An=(0,f.A)(En,[["render",Rn],["__scopeId","data-v-9abb1e54"]]);var xn=An,Dn={components:{forthbottomleft:_n,forthbottomright:xn}};const Xn=(0,f.A)(Dn,[["render",hn],["__scopeId","data-v-1ff2236e"]]);var Fn=Xn,Tn={components:{forthtop:mn,forthbottom:Fn},setup(){var t=(0,s.KR)(!1);function e(e){t.value=e,setTimeout(()=>{t.value=!1},1050)}return(0,o.sV)(()=>{p.on("topchange",e)}),(0,o.hi)(()=>{p.off("topchange",e)}),{showprotect:t}}};const $n=(0,f.A)(Tn,[["render",nn],["__scopeId","data-v-4facd79e"]]);var Mn=$n;const Sn={id:"fifthall"};function Wn(t,e,a,n,i,l){const r=(0,o.g2)("fifthedit"),s=(0,o.g2)("fifthshow");return(0,o.uX)(),(0,o.CE)("div",Sn,[n.show?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(r,{key:0,date:n.date,alldata:n.props.alldata},null,8,["date","alldata"])),n.show?((0,o.uX)(),(0,o.Wv)(s,{key:1,alldata:n.props.alldata,oldday:n.oldday},null,8,["alldata","oldday"])):(0,o.Q3)("",!0)])}const Qn={id:"editall"},On={id:"editleft",class:"animate__slideInUp animate__animated"},Yn={id:"editlefthead"},jn={id:"title"},Un={id:"editleftmain"},Bn={id:"editright",class:"animate__slideInUp animate__animated"},Pn={id:"edittext"},Vn={id:"picandaudio",class:"animate__slideInUp animate__animated"},Hn={class:"uploadmusicandaudio",style:{backgroundImage:"url(/src/59.png)"}},Jn={key:0,class:"successupload animate__slideInUp animate__animated"},Nn={class:"uploadmusicandaudio",style:{backgroundImage:"url(/src/5.png)"}},zn={key:0,class:"successupload animate__slideInUp animate__animated"};function qn(t,e,a,n,i,r){const s=(0,o.g2)("fifthtext");return(0,o.uX)(),(0,o.CE)("div",Qn,[(0,o.Lk)("div",On,[(0,o.Lk)("div",Yn,[(0,o.Lk)("div",jn,[(0,o.Lk)("div",{id:"titlelight",style:(0,l.Tr)({"background-color":n.lightcolor})},null,4),(0,o.eW)(" "+(0,l.v_)(n.titletext),1)]),e[4]||(e[4]=(0,o.eW)(" 修改",-1)),e[5]||(e[5]=(0,o.Lk)("br",null,null,-1)),(0,o.eW)((0,l.v_)(n.props.date[0])+"年"+(0,l.v_)(n.props.date[1]+1)+"月"+(0,l.v_)(n.props.date[2])+"日 ",1),e[6]||(e[6]=(0,o.Lk)("br",null,null,-1)),e[7]||(e[7]=(0,o.eW)("情绪日志 ",-1))]),(0,o.Lk)("div",Un,[(0,o.Lk)("div",{class:"maintool",onClick:e[0]||(e[0]=(...t)=>n.save&&n.save(...t))}," 保存 "),(0,o.Lk)("div",{class:"maintool",onClick:e[1]||(e[1]=t=>n.exit(!0))}," 退出 ")])]),(0,o.Lk)("div",Bn,[(0,o.Lk)("div",Pn,[(0,o.bF)(s,{alldata:n.props.alldata,class:"animate__slideInUp animate__animated",chosedate:n.props.date},null,8,["alldata","chosedate"])]),(0,o.Lk)("div",Vn,[(0,o.Lk)("div",Hn,[(0,o.Lk)("input",{type:"file",class:"uploadinput",onChange:e[2]||(e[2]=(...t)=>n.inputimg&&n.inputimg(...t))},null,32),n.picok?((0,o.uX)(),(0,o.CE)("p",Jn,"上传成功")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Nn,[(0,o.Lk)("input",{type:"file",class:"uploadinput",onChange:e[3]||(e[3]=(...t)=>n.inputsound&&n.inputsound(...t))},null,32),n.soundok?((0,o.uX)(),(0,o.CE)("p",zn,"上传成功")):(0,o.Q3)("",!0)])])])])}const Zn={style:{border:"1px solid #ccc"}};function Gn(t,e,a,n,i,l){const r=(0,o.g2)("Toolbar"),s=(0,o.g2)("Editor");return(0,o.uX)(),(0,o.CE)("div",Zn,[(0,o.bF)(r,{style:{"border-bottom":"1px solid #ccc"},editor:n.editorRef,defaultConfig:n.toolbarConfig,mode:n.mode},null,8,["editor","defaultConfig","mode"]),(0,o.bF)(s,{style:{height:"341px","overflow-y":"hidden"},modelValue:n.valueHtml,"onUpdate:modelValue":e[0]||(e[0]=t=>n.valueHtml=t),defaultConfig:n.editorConfig,mode:n.mode,onOnCreated:n.handleCreated},null,8,["modelValue","defaultConfig","mode","onOnCreated"])])}var to=a(1648),eo={components:{Editor:to.K,Toolbar:to.M},props:["alldata","chosedate"],setup(t){new Date;const e=(0,s.KR)(t.chosedate[0]),a=(0,s.KR)(t.chosedate[1]),n=(0,s.KR)(t.chosedate[2]);let i=t.alldata[e.value][a.value][n.value].diary||"";""===i&&(i="你好，世界");const l=(0,s.IJ)(),r=(0,s.KR)("");function d(t){return t.replace(/^<p>(<br>|&nbsp;|\s)*<\/p>/,"")}function c(){p.emit("diarychange",{year:e.value,month:a.value,day:n.value,diary:r.value})}(0,o.sV)(()=>{setTimeout(()=>{l.value&&l.value.setHtml(`<p>${i}</p>`)},500),p.on("savethis",c)}),(0,o.hi)(()=>{p.off("savethis",c)});const u={},m={placeholder:"请输入内容..."};(0,o.xo)(()=>{const t=l.value;null!=t&&t.destroy()});const v=t=>{l.value=t,i&&t.setHtml(d(i))};return{editorRef:l,valueHtml:r,mode:"default",toolbarConfig:u,editorConfig:m,handleCreated:v}}};const ao=(0,f.A)(eo,[["render",Gn]]);var no=ao,oo={props:["date","alldata"],components:{fifthtext:no},setup(t){var e=t.date[1]<10?"0":"",a=t.date[2]<10?"0":"",n=JSON.stringify(`${t.date[0]}${e}${t.date[1]+1}${a}${t.date[2]}`),o=(0,s.KR)("yellow"),i=(0,s.KR)("正在进行："),l=(0,s.KR)(null),r=(0,s.KR)(null),d=(0,s.KR)(!1),c=(0,s.KR)(!1);function u(t){d.value=!1,setTimeout(()=>{d.value=!0},100),l.value=null,l.value=t.target.files[0]}function m(t){c.value=!1,setTimeout(()=>{c.value=!0},100),r.value=null,r.value=t.target.files[0]}function v(t){for(var e=0,a=0,n=0,o=0,i=0;i<t.length;i++)t[i]<a&&(a=t[i]),t[i]>e&&(e=t[i]),t[i]<e&&t[i]>n&&(n=t[i]),t[i]>a&&t[i]<o&&(o=t[i]);var l=e+o-n+a;return console.log("稳定度的结果",e,a,n,o,l),l}function h(){if(o.value="orange",i.value="正在保存...",null===l.value&&null===r.value&&""===t.alldata[t.date[0]][t.date[1]][t.date[2]].img&&""===t.alldata[t.date[0]][t.date[1]][t.date[2]].sound&&!confirm("您还有图片或音频可以上传，以完善今天的情绪分析，确定退出吗？"))return;const e=new FormData;if(l.value&&e.append("pic",l.value),r.value&&e.append("sound",r.value),t.date&&e.append("date",n),null!==l.value||null!==r.value){p.emit("savethis",!0);var a=t.alldata[t.date[0]][t.date[1]][t.date[2]].diary;e.append("text",a),xe.A.post("/api/daily",e,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{o.value="green",i.value="保存成功！",console.log("新数据",e.data.result),t.alldata[t.date[0]][t.date[1]][t.date[2]].mood=e.data.result,e.data.saved_files.pic&&(t.alldata[t.date[0]][t.date[1]][t.date[2]].img=e.data.saved_files.pic),e.data.saved_files.sound&&(t.alldata[t.date[0]][t.date[1]][t.date[2]].sound=e.data.saved_files.sound),p.emit("wehavedata",e.data.result),p.emit("changehistory",{year:t.date[0],month:t.date[1],day:t.date[2],where:3,time:1,action:`<p id=actionmain>您成功编辑了${t.date[0]}年${t.date[1]+1}月${t.date[2]}日的<strong>情绪日志</strong></p>`}),p.emit("information","保存成功！"),p.emit("changeindicator",{year:t.date[0],month:t.date[1],day:t.date[2],firstvalue:e.data.result[0]+e.data.result[1]+e.data.result[4],secondvalue:e.data.result[1]+e.data.result[2]+e.data.result[4]+e.data.result[5],thirdvalue:100-e.data.result[6],forthvalue:v(e.data.result)}),g(!1)}).catch(e=>{p.emit("information","服务端出错，请稍后再试！"),o.value="red",i.value="保存出错！...",console.log(e),p.emit("action",{action:`<p id=actionmain>您编辑${t.date[0]}年${t.date[1]+1}月${t.date[2]}日的<strong>情绪日志</strong>时出错了</p>`})})}else{p.emit("savethis",!0),o.value="orange",i.value="正在保存...";a=t.alldata[t.date[0]][t.date[1]][t.date[2]].diary;e.append("text",a),xe.A.post("/api/daily",e,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{p.emit("savethis",!0),o.value="green",i.value="保存成功！",p.emit("information","保存成功！"),console.log("新数据",e.data.result),t.alldata[t.date[0]][t.date[1]][t.date[2]].mood=e.data.result,p.emit("wehavedata",e.data.result),g(!1),p.emit("changeindicator",{year:t.date[0],month:t.date[1],day:t.date[2],firstvalue:e.data.result[0]+e.data.result[1]+e.data.result[4],secondvalue:e.data.result[1]+e.data.result[2]+e.data.result[4]+e.data.result[5],thirdvalue:100-e.data.result[6],forthvalue:v(e.data.result)}),p.emit("changehistory",{year:t.date[0],month:t.date[1],day:t.date[2],where:3,time:1,action:`<p id=actionmain>您成功编辑了${t.date[0]}年${t.date[1]+1}月${t.date[2]}日的<strong>情绪日志</strong></p>`})}).catch(e=>{console.log(e),p.emit("action",{action:`<p id=actionmain>您编辑${t.date[0]}年${t.date[1]+1}月${t.date[2]}日的<strong>情绪日志</strong>时出错了</p>`}),p.emit("information","服务端出错，请稍后再试！")})}}function g(t){t?confirm("当前页面的数据将不会保存，确认退出？")&&(o.value="grey",i.value="正在退出...",setTimeout(()=>{p.emit("exitedit",!0)},1e3)):(o.value="grey",i.value="正在退出...",setTimeout(()=>{p.emit("exitedit",!0)},1e3))}return{props:t,lightcolor:o,titletext:i,picok:d,soundok:c,save:h,exit:g,inputimg:u,inputsound:m}}};const io=(0,f.A)(oo,[["render",qn],["__scopeId","data-v-ccb951a4"]]);var lo=io;const ro={id:"showall"},so={id:"showleft"},co={id:"year"},uo={id:"monthday"},mo={id:"chosedate",class:"fifthtool animate__fadeInLeft animate__animated"};function vo(t,e,a,i,r,s){const d=(0,o.g2)("fifthshowright");return(0,o.uX)(),(0,o.CE)("div",ro,[(0,o.Lk)("div",so,[(0,o.Lk)("div",{id:"showleftdate",class:"animate__fadeIn animate__animated",onClick:e[0]||(e[0]=t=>console.log(i.props.oldday[0],i.props.oldday[1],i.props.oldday[2],i.props.alldata,i.props.alldata[i.props.oldday[0]][i.props.oldday[1]][i.props.oldday[2]].diary))},[(0,o.Lk)("p",co,(0,l.v_)(i.year)+"年",1),(0,o.Lk)("p",uo,(0,l.v_)(i.month)+"月"+(0,l.v_)(i.day)+"日",1)]),(0,o.Lk)("div",mo,[(0,o.bo)((0,o.Lk)("input",{type:"date",id:"thisdate","onUpdate:modelValue":e[1]||(e[1]=t=>i.date=t),onChange:e[2]||(e[2]=(...t)=>i.changedate&&i.changedate(...t)),ref:"dateInput"},null,544),[[n.Jo,i.date]])]),(0,o.Lk)("div",{id:"edition",class:"fifthtool animate__fadeInLeft animate__animated",onClick:e[3]||(e[3]=(...t)=>i.intoedition&&i.intoedition(...t))}," 编辑日志 "),(0,o.Lk)("div",{id:"remove",class:"fifthtool animate__fadeInLeft animate__animated",onClick:e[4]||(e[4]=(...t)=>i.removedata&&i.removedata(...t))}," 删除日志 ")]),(0,o.bF)(d,{alldata:i.props.alldata,date:i.simpledate},null,8,["alldata","date"])])}const ho={id:"fifthshowright"},po={key:0,id:"protect"},go={id:"pic"},fo=["src"],yo={key:1,class:"protected"},ko={id:"piclist"},_o={id:"chartdiv"},bo={key:0,ref:"selfchart"},Co={key:0,class:"protected"},Lo={id:"text"},wo={id:"textmain"},Ko=["innerHTML"],Io={key:0,class:"protected"},Ro={key:0,id:"audiotitle"},Eo=["src"],Ao={key:2,class:"protected"};function xo(t,e,a,n,i,r){return(0,o.uX)(),(0,o.CE)("div",ho,[n.protection?((0,o.uX)(),(0,o.CE)("div",po," 调集数据中... ")):(0,o.Q3)("",!0),(0,o.Lk)("div",{id:"picshow",class:(0,l.C4)({"animate__slideInLeft animate__animated":n.dateanimate})},[(0,o.Lk)("div",go,[n.haveimg?((0,o.uX)(),(0,o.CE)("img",{key:0,src:n.imgurl,class:"myimg"},null,8,fo)):(0,o.Q3)("",!0),n.protection||n.haveimg?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",yo,[...e[2]||(e[2]=[(0,o.eW)(" 当天尚未记录图片",-1),(0,o.Lk)("br",null,null,-1),(0,o.eW)("或服务器未响应 ",-1)])]))]),(0,o.Lk)("div",ko,[(0,o.Lk)("div",_o,[n.havedata?((0,o.uX)(),(0,o.CE)("canvas",bo,null,512)):(0,o.Q3)("",!0)]),n.havedata||n.protection?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Co,[...e[3]||(e[3]=[(0,o.eW)(" 当天尚未记录数据",-1),(0,o.Lk)("br",null,null,-1),(0,o.eW)("或服务器未响应 ",-1)])]))])],2),(0,o.Lk)("div",{id:"textandaudio",class:(0,l.C4)({"animate__slideInLeft animate__animated":n.dateanimate})},[(0,o.Lk)("div",Lo,[(0,o.Lk)("div",{id:"texttitle",onClick:e[0]||(e[0]=t=>console.log(`文本${n.havetext},音频：${n.haveaudio},图片：${n.haveimg},数据：${n.havedata}`))},(0,l.v_)(n.year)+"."+(0,l.v_)(n.month)+"."+(0,l.v_)(n.day)+"的过往 ",1),e[5]||(e[5]=(0,o.Lk)("hr",null,null,-1)),(0,o.Lk)("div",wo,[(0,o.Lk)("div",{id:"textinner",innerHTML:n.dailytext},null,8,Ko),n.havetext||n.protection?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Io,[...e[4]||(e[4]=[(0,o.eW)(" 当天尚未记录文字",-1),(0,o.Lk)("br",null,null,-1),(0,o.eW)("或服务器未响应 ",-1)])]))])]),(0,o.Lk)("div",{id:"audio",onClick:e[1]||(e[1]=(...t)=>n.showdetail&&n.showdetail(...t))},[n.haveaudio?((0,o.uX)(),(0,o.CE)("h1",Ro,"那时的回音")):(0,o.Q3)("",!0),n.haveaudio?((0,o.uX)(),(0,o.CE)("audio",{key:1,src:n.soundurl,controls:""},null,8,Eo)):(0,o.Q3)("",!0),n.haveaudio||n.protection?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Ao,[...e[6]||(e[6]=[(0,o.eW)(" 当天尚未记录音频",-1),(0,o.Lk)("br",null,null,-1),(0,o.eW)("或服务器未响应 ",-1)])]))])],2)])}var Do={props:["alldata","date"],setup(t){var e=(0,s.KR)(!1),a=(0,s.KR)(""),n=(0,s.KR)(!1),i=(0,s.KR)(!1),l=(0,s.KR)(!1),r=(0,s.KR)(t.date[0]),d=(0,s.KR)(t.date[1]),c=(0,s.KR)(t.date[2]),u=(0,s.KR)(null),m=(0,s.KR)(null);let v=(0,s.KR)(null);var h=(0,s.Kh)([0,0,0,0,0,0,0]);let g=null;var f=(0,s.KR)(t.date[0]),y=(0,s.KR)(t.date[1]),k=(0,s.KR)(t.date[2]),_=(0,s.KR)("");function b(e,o,i){t.alldata[e]&&t.alldata[e][o-1]&&t.alldata[e][o-1][i]&&(a.value=t.alldata[e][o-1][i].diary,_.value=a.value.replace(/<[^>]*>/g,"").trim(),n.value=""!==_.value)}async function C(){var e=[0,0,0,0,0,0,0];if(void 0!==t.alldata[f.value][y.value-1][k.value]&&(e=t.alldata[f.value][y.value-1][k.value].mood),Array.isArray(e)&&7===e.length){i.value=!0;for(var a=0;a<h.length;a++)h[a]=e[a];if(await(0,o.dY)(),v.value&&i.value){const t=v.value.getContext("2d");g&&g.destroy(),g=new at.Ay(t,{type:"bar",data:{labels:["喜悦","悲伤","愤怒","惊讶","厌恶","恐惧","复杂"],datasets:[{label:"情感得分",data:h,borderColor:"rgba(75, 192, 192, 0.8)",backgroundColor:["#228B22","#191970","#DC143C","#9932CC","#A0522D","#DCDCDC","#B0C4DE"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,ticks:{stepSize:10}}},plugins:{legend:{display:!0}}}})}}else console.error("数据格式错误",e)}function L(t){r.value=t.year,d.value=t.month,c.value=t.day,b(r.value,d.value,c.value)}async function w(t,a,n){var o="",i="";a<10&&(o="0"),n<10&&(i="0");var l=`${t}${o}${a}${i}${n}`;try{const t=await xe.A.post("/api/getimg",{date:l},{responseType:"blob"});if("application/json"===t.data.type){const a=await t.data.text(),n=JSON.parse(a);if(!n.success)return void(e.value=!1)}e.value=!0;const a=t.data;u.value=URL.createObjectURL(a)}catch(r){console.error("请求出错:",r),e.value=!1}}async function K(t,e,a){console.log("准确年",t,e,a),f.value=t,y.value=e,k.value=a;var n="",o="";e<10&&(n="0"),a<10&&(o="0");var i=`${t}${n}${e}${o}${a}`;try{const t=await xe.A.post("/api/getsound",{date:i},{responseType:"blob"});if("application/json"===t.data.type){const e=await t.data.text(),a=JSON.parse(e);if(!a.success)return void(l.value=!1)}l.value=!0;const e=t.data;m.value=URL.createObjectURL(e)}catch(r){console.error("请求出错:",r),l.value=!1}}function I(){w(t.date[0],t.date[1],t.date[2]),K(t.date[0],t.date[1],t.date[2]),C()}function R(t){a.value=""}(0,o.wB)([r,d,c],([t,e,a],[o,i,l])=>{b(r.value,d.value,c.value),n.value=""!==_.value},{immediate:!0,deep:!0}),I();var E=(0,s.KR)(!1),A=(0,s.KR)(!1);function x(){E.value=!0,A.value=!0,setTimeout(()=>{E.value=!1,A.value=!1},1051)}function D(t){r.value=t.year,d.value=t.month+1,c.value=t.day,u.value=null,m.value=null,w(r.value,d.value,c.value),K(r.value,d.value,c.value)}function X(){console.log("保护的值",A.value),console.log("文本",n.value,"音频",l.value,"图片",e.value,"数据",i.value),console.log("音频保护综合",!l.value&&!A.value,"图片保护综合",!e.value&&!A.value)}return x(),(0,o.sV)(()=>{p.on("datechange",x),p.on("datechange",D),p.on("datechange",C),p.on("totoday",L),p.on("wehavedata",C),p.on("reload",I),p.on("cleartodaytext",R)}),(0,o.hi)(()=>{p.off("datechange",x,D),p.off("totoday",L),p.off("wehavedata",C),p.off("reload",I),p.off("cleartodaytext",R)}),i.value=n.value||e.value||l.value,{dateanimate:E,protection:A,haveimg:e,haveaudio:l,havetext:n,havedata:i,year:r,month:d,day:c,dailytext:a,imgurl:u,soundurl:m,selfchart:v,showdetail:X}}};const Xo=(0,f.A)(Do,[["render",xo],["__scopeId","data-v-d7149e62"]]);var Fo=Xo,To={components:{fifthshowright:Fo},props:["alldata","oldday"],setup(t){const e=new Date;if(t.oldday.length)var a=(0,s.KR)(t.oldday[0]),n=(0,s.KR)(t.oldday[1]+1),o=(0,s.KR)(t.oldday[2]);else{a=(0,s.KR)(e.getFullYear()),n=(0,s.KR)(e.getMonth()+1),o=(0,s.KR)(e.getDate());t.oldday[0]=a.value,t.oldday[1]=n.value-1,t.oldday[2]=o.value}var i=(0,s.Kh)([a.value,n.value,o.value]);const l=(0,s.KR)(null),r=(0,s.KR)(null),d=()=>{r.value&&r.value.click()},c=()=>{if(l.value){{var t=new Date;const e=new Date(l.value);let i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(i>r)return p.emit("information","不可选择超过今天的日期！"),console.log(e),console.log(t),console.log("今日",t.getMonth(),t.getDate()),a.value=t.getFullYear(),n.value=t.getMonth()+1,o.value=t.getDate(),void p.emit("totoday",{year:a.value,month:n.value,day:o.value});a.value=e.getFullYear(),n.value=e.getMonth()+1,o.value=e.getDate()}p.emit("datechange",{year:a.value,month:n.value-1,day:o.value})}else p.emit("information","请选择日期！")};function u(){p.emit("Edition",{no:!1,date:[a.value,n.value-1,o.value]})}function m(){console.log(t.alldata[t.oldday[0]][t.oldday[1]][t.oldday[2]].diary);var e=t.oldday[1]+1<10?"0":"",a=t.oldday[2]+1<10?"0":"",n={file_name:`${t.oldday[0]}${e}${t.oldday[1]+1}${a}${t.oldday[2]}`};xe.A.post("/api/clear",n,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t.alldata[t.oldday[0]][t.oldday[1]][t.oldday[2]].diary="";for(var a=0;a<t.alldata[t.oldday[0]][t.oldday[1]][t.oldday[2]].mood.length;a++)t.alldata[t.oldday[0]][t.oldday[1]][t.oldday[2]].mood[a]=0;p.emit("changehistory",{year:t.oldday[0],month:t.oldday[1],day:t.oldday[2],where:3,time:1,action:`<p id=actionmain>您删除了${t.oldday[0]}年${t.oldday[1]+1}月${t.oldday[2]}日的<strong>情绪日志</strong></p>`}),p.emit("information","删除成功！"),p.emit("reload"),p.emit("cleartodaytext",{year:t.oldday[0],month:t.oldday[1],day:t.oldday[2]})}).catch(e=>{console.log(e),p.emit("information","后端服务器错误！请重试！"),p.emit("action",{action:`<p id=actionmain>您删除${t.oldday[0]}年${t.oldday[1]+1}月${t.oldday[2]}日的<strong>情绪日志</strong>时出错了</p>`})})}return{year:a,month:n,day:o,date:l,dateInput:r,props:t,simpledate:i,showDatePicker:d,changedate:c,intoedition:u,removedata:m}}};const $o=(0,f.A)(To,[["render",vo],["__scopeId","data-v-5349c1aa"]]);var Mo=$o,So={components:{fifthedit:lo,fifthshow:Mo},props:["alldata"],setup(t){var e=(0,s.KR)(!0),a=(0,s.Kh)([]),n=(0,s.Kh)([]);function i(t){e.value=t.no,a.splice(0,a.length,...t.date)}function l(t){e.value=t}function r(t){n[0]=t.year,n[1]=t.month,n[2]=t.day}return(0,o.sV)(()=>{p.on("Edition",i),p.on("exitedit",l),p.on("datechange",r)}),(0,o.hi)(()=>{p.off("Edition",i),p.off("exitedit",l),p.off("datechange",r)}),{show:e,date:a,props:t,oldday:n}}};const Wo=(0,f.A)(So,[["render",Wn],["__scopeId","data-v-5d08afca"]]);var Qo=Wo,Oo={components:{firstall:ce,secondmain:ha,thirdmain:tn,forthmain:Mn,fifthmain:Qo},props:["pagenum","alldata","actionhistory"],setup(t){console.log(t.pagenum);var e=[!0,!1,!1,!1,!1],a=(0,s.Kh)(e);return console.log(e),(0,o.wB)(()=>t.pagenum,t=>{e.fill(!1),console.log(t),a[t]=!0},{immediate:!0}),{page:a,props:t}}};const Yo=(0,f.A)(Oo,[["render",b],["__scopeId","data-v-9077d1cc"]]);var jo=Yo;const Uo={id:"menuall",class:"animate__jackInTheBox animate__animated"};function Bo(t,e,a,i,r,s){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.Wv)(n.eB,null,{default:(0,o.k6)(()=>[(0,o.Lk)("div",Uo,[i.cardanimate_show?((0,o.uX)(),(0,o.CE)("div",{key:0,id:"turnto",class:(0,l.C4)({"animate__animated animate__rotateIn":i.cardanimate,"animate__zoomOut animate__animated":i.isOut})},[(0,o.bF)(n.F,null,{default:(0,o.k6)(()=>[(0,o.bF)(d,{to:"/first",id:"tofirst",class:"goto",key:"1",onClick:e[0]||(e[0]=t=>i.readytopage(0)),style:{backgroundImage:"url(/src/48.png)"}}),(0,o.bF)(d,{to:"/second",id:"tosecond",class:"goto",key:"2",onClick:e[1]||(e[1]=t=>i.readytopage(1)),style:{backgroundImage:"url(/src/49.jpg)"}}),(0,o.bF)(d,{to:"/third",id:"tothird",class:"goto",key:"3",onClick:e[2]||(e[2]=t=>i.readytopage(2)),style:{backgroundImage:"url(/src/50.jpg)"}}),(0,o.bF)(d,{to:"/forth",id:"toforth",class:"goto",key:"4",onClick:e[3]||(e[3]=t=>i.readytopage(3)),style:{backgroundImage:"url(/src/51.png)"}}),(0,o.bF)(d,{to:"/fifth",id:"tofifth",class:"goto",key:"5",onClick:e[4]||(e[4]=t=>i.readytopage(4)),style:{backgroundImage:"url(/src/47.png)"}})]),_:1})],2)):(0,o.Q3)("",!0),(0,o.Lk)("button",{onClick:e[5]||(e[5]=(...t)=>i.close&&i.close(...t)),id:"close"},"关闭")])]),_:1})}var Po={emits:["close","turntopage"],setup(t,e){const{emit:a}=e;function n(){a("close",!1)}var o=(0,s.KR)(!1),i=(0,s.KR)(!1),l=(0,s.KR)(!1);function r(){o.value||(o.value=!0,l.value=!0)}function d(t){o.value=!1,i.value=!0,setTimeout(()=>{l.value=!1,a("turntopage",t)},500)}return setTimeout(()=>{r()},500),{close:n,cardanimation:r,cardanimate:o,readytopage:d,isOut:i,cardanimate_show:l}}};const Vo=(0,f.A)(Po,[["render",Bo],["__scopeId","data-v-1f8cd1a3"]]);var Ho=Vo,Jo={components:{maintop:k,mainmiddle:jo,mainmenu:Ho},emit:["changepage"],setup(t,{emit:e}){var a=(0,s.Kh)([]),n=(0,s.KR)(1),i=(0,s.KR)("你好世界"),l=(0,s.KR)(!1),r=(0,s.KR)(!1),d=(0,s.KR)(!0);const c=new Date;if(localStorage.getItem("alldata")){const t=JSON.parse(localStorage.getItem("alldata"));var u=(0,s.Kh)(t)}else{u=(0,s.Kh)({[c.getFullYear()]:{[c.getMonth()]:{[c.getDate()]:{mood:[0,0,0,0,0,0,0],indicator:[0,0,0,0],history:[0,0,0,0],moodhistory:[0,0,0,0,0,0,0],music:0,diary:"",img:"",sound:""}}}});localStorage.setItem("alldata",JSON.stringify(u))}const m=c.getFullYear(),v=c.getMonth(),h=c.getDate();function g(t,e,a){u[t]||(u[t]={}),u[t][e]||(u[t][e]={}),u[t][e][a]||(u[t][e][a]={mood:[0,0,0,0,0,0,0],indicator:[0,0,0,0],history:[0,0,0,0],moodhistory:[0,0,0,0,0,0,0],music:0,diary:"",img:"",sound:""}),localStorage.setItem("alldata",JSON.stringify(u))}function f(t){var e=t.year,o=t.month,i=t.day,l=t.where,r=t.time;a.push(`${n.value}.${t.action}`),n.value++,g(e,o,i),u[e][o][i].history[l]+=r,localStorage.setItem("alldata",JSON.stringify(u))}function y(t){console.log(t);var e=t.year,a=t.month,n=t.day,o=t.where,i=t.time;console.log("具体位置",o),g(e,a,n),console.log("过往历史",u[e][a][n].moodhistory),u[e][a][n].moodhistory[o]+=i,console.log("具体情况",u[e][a][n].moodhistory[o]),localStorage.setItem("alldata",JSON.stringify(u))}function k(t){var e=t.year,a=t.month,n=t.day,o=t.diary;g(e,a,n),u[e][a][n].diary=o,localStorage.setItem("alldata",JSON.stringify(u))}function _(t){var e=t.year,a=t.month,n=t.day;g(e,a,n),u[e][a][n].indicator[0]=t.firstvalue,u[e][a][n].indicator[1]=t.secondvalue,u[e][a][n].indicator[2]=t.thirdvalue,u[e][a][n].indicator[3]=t.forthvalue,console.log("man",t),console.log(u[e][a][n]),localStorage.setItem("alldata",JSON.stringify(u))}function b(t){a.push(`${n.value}.${t.action}`),n.value++}g(m,v,h),(0,o.wB)(u,(t,e)=>{localStorage.setItem("alldata",JSON.stringify(t))});var C=(0,s.Kh)({width:window.innerWidth+"px",height:window.innerHeight+"px"}),L=(0,s.KR)(!1),w=(0,s.KR)(!1),K=(0,s.KR)(!1);function I(){L.value=!0,console.log(L.value),setTimeout(()=>{L.value=!1,R()},500)}function R(){K.value=!0,console.log(K.value)}function E(t){K.value=t}var A=(0,s.KR)(0);function x(t){E(!1),A.value=t}function D(t){console.log("主程序增加了这个日期");var e=t.year,a=t.month,n=t.day;g(e,a,n),p.emit("datechange1",{year:e,month:a,day:n})}function X(t){d.value&&(r.value=!1,i.value=t,l.value=!0,setTimeout(()=>{r.value=!0,setTimeout(()=>{l.value=!1,i.value=""},1151)},1151))}const F=()=>{C.width=`${window.innerWidth}px`,C.height=`${window.innerHeight}px`};return(0,o.sV)(()=>{window.addEventListener("resize",F),p.on("changehistory",f),p.on("changemoodhistory",y),p.on("diarychange",k),p.on("datechange",D),p.on("changeindicator",_),p.on("action",b),p.on("information",X),p.on("setinformation",t=>{d.value=t})}),(0,o.hi)(()=>{window.removeEventListener("resize",F),p.off("changehistory",f),p.off("changemoodhistory",y),p.off("diarychange",k),p.off("datechange",D),p.off("changeindicator",_),p.off("action",b),p.off("information",X),p.off("setinformation",t=>{d.value=t})}),{navstyle:C,changebottomstyle:I,isActive:L,isHover:w,isChange:K,closepage:E,goforpage:x,pagenum:A,alldata:u,actionhistory:a,new_information:i,informationin:l,informationout:r}}};const No=(0,f.A)(Jo,[["render",r],["__scopeId","data-v-ea77bcf8"]]);var zo=No,qo={components:{home:zo}};const Zo=(0,f.A)(qo,[["render",i]]);var Go=Zo,ti=a(5220);const ei=[{path:"/",name:"home",component:zo},{path:"/first",name:"first",component:ce},{name:"first_first",path:"/first_firstc",component:it},{name:"first_second",path:"/first_secondc",component:kt},{name:"first_third",path:"/first_thirdc",component:re},{path:"/second",name:"second",component:ha},{path:"/third",name:"third",component:tn},{path:"/forth",name:"forth",component:Mn},{path:"/fifth",name:"fifth",component:Qo}],ai=(0,ti.aE)({history:(0,ti.Bt)(),routes:ei});var ni=ai;(0,n.Ef)(Go).use(ni).mount("#app")}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,i){if(!n){var l=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],i=t[c][2];for(var r=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(a.O).every(function(t){return a.O[t](n[s])})?n.splice(s--,1):(r=!1,i<l&&(l=i));if(r){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[n,o,i]}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,l=n[0],r=n[1],s=n[2],d=0;if(l.some(function(e){return 0!==t[e]})){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var c=s(a)}for(e&&e(n);d<l.length;d++)i=l[d],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},n=self["webpackChunknewsystem"]=self["webpackChunknewsystem"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(3511)});n=a.O(n)})();
//# sourceMappingURL=app.188a5cab.js.map